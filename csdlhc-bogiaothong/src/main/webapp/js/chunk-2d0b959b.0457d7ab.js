(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b959b"],{3327:function(t,n,a){"use strict";a.r(n);var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("div",{staticClass:"d-flex justify-space-between mb-4"},["update"==t.typeAction?a("h3",{staticClass:"title-page"},[t._v("CẬP NHẬT THÔNG TIN TỔ CHỨC, DOANH NGHIỆP")]):t._e(),"add"==t.typeAction?a("h3",{staticClass:"title-page"},[t._v("THÊM MỚI TỔ CHỨC, DOANH NGHIỆP")]):t._e()])])],1),a("v-form",{ref:"formAddCaNhan",attrs:{"lazy-validation":""},model:{value:t.validFormAdd,callback:function(n){t.validFormAdd=n},expression:"validFormAdd"}},[a("v-row",[a("v-col",{staticClass:"py-0 mb-0",attrs:{cols:"12"}},[a("label",[t._v(" Trạng thái thông tin "),a("span",{staticClass:"red--text"},[t._v("(*)")])]),a("v-switch",{staticClass:"mt-2",scopedSlots:t._u([{key:"label",fn:function(){return[a("span",{staticClass:"ml-2",staticStyle:{color:"black"}},[t._v(t._s(t.trangThaiDuLieu?"ĐANG SỬ DỤNG":"ĐÁNH DẤU XÓA"))])]},proxy:!0}]),model:{value:t.trangThaiDuLieu,callback:function(n){t.trangThaiDuLieu=n},expression:"trangThaiDuLieu"}})],1),a("v-col",{staticClass:"py-0 mb-2",attrs:{cols:"12",md:"6"}},[a("label",[t._v("Tên tổ chức, doanh nghiệp "),a("span",{staticClass:"red--text"},[t._v("(*)")])]),a("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto",rules:t.required,required:""},model:{value:t.thongTinDoanhNghiep.tenGoi,callback:function(n){t.$set(t.thongTinDoanhNghiep,"tenGoi",n)},expression:"thongTinDoanhNghiep.tenGoi"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"6"}},[a("label",[t._v("Mã số tổ chức, doanh nghiệp "),a("span",{staticClass:"red--text"},[t._v("(*)")])]),a("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto",rules:t.required,required:""},model:{value:t.thongTinDoanhNghiep.maSoDoanhNghiep,callback:function(n){t.$set(t.thongTinDoanhNghiep,"maSoDoanhNghiep",n)},expression:"thongTinDoanhNghiep.maSoDoanhNghiep"}})],1),a("v-col",{staticClass:"py-0 mb-2",attrs:{cols:"12",md:"6"}},[a("label",[t._v("Tên viết tắt")]),a("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto"},model:{value:t.thongTinDoanhNghiep.tenVietTat,callback:function(n){t.$set(t.thongTinDoanhNghiep,"tenVietTat",n)},expression:"thongTinDoanhNghiep.tenVietTat"}})],1),a("v-col",{staticClass:"py-0 mb-2",attrs:{cols:"12",md:"6"}},[a("label",[t._v("Tên tiếng anh")]),a("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto"},model:{value:t.thongTinDoanhNghiep.tenTiengAnh,callback:function(n){t.$set(t.thongTinDoanhNghiep,"tenTiengAnh",n)},expression:"thongTinDoanhNghiep.tenTiengAnh"}})],1),a("v-col",{staticClass:"py-0 mb-2",attrs:{cols:"12",md:"6"}},[a("label",[t._v("Email")]),a("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto"},model:{value:t.thongTinDoanhNghiep.danhBaLienLac["thuDienTu"],callback:function(n){t.$set(t.thongTinDoanhNghiep.danhBaLienLac,"thuDienTu",n)},expression:"thongTinDoanhNghiep.danhBaLienLac['thuDienTu']"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"6"}},[a("label",[t._v("Điện thoại")]),a("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto"},model:{value:t.thongTinDoanhNghiep.danhBaLienLac["soDienThoai"],callback:function(n){t.$set(t.thongTinDoanhNghiep.danhBaLienLac,"soDienThoai",n)},expression:"thongTinDoanhNghiep.danhBaLienLac['soDienThoai']"}})],1),a("v-col",{staticClass:"py-0 mb-2",attrs:{cols:"6"}},[a("label",[t._v("Họ tên người đại diện")]),a("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto"},model:{value:t.thongTinDoanhNghiep.nguoiDaiDien["hoVaTen"],callback:function(n){t.$set(t.thongTinDoanhNghiep.nguoiDaiDien,"hoVaTen",n)},expression:"thongTinDoanhNghiep.nguoiDaiDien['hoVaTen']"}})],1),a("v-col",{staticClass:"py-0 mb-2",attrs:{cols:"6"}},[a("label",[t._v("Số CMND/ CCCD người đại diện")]),a("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto"},model:{value:t.thongTinDoanhNghiep.nguoiDaiDien["maSoCaNhan"],callback:function(n){t.$set(t.thongTinDoanhNghiep.nguoiDaiDien,"maSoCaNhan",n)},expression:"thongTinDoanhNghiep.nguoiDaiDien['maSoCaNhan']"}})],1),a("v-col",{staticClass:"py-0 mb-2",attrs:{cols:"12"}},[a("label",[t._v("Địa chỉ hoạt động")]),a("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto",placeholder:"Số nhà, đường, phố ..."},model:{value:t.diaChiHoatDongCuThe,callback:function(n){t.diaChiHoatDongCuThe=n},expression:"diaChiHoatDongCuThe"}})],1),a("v-col",{staticClass:"py-0 mb-2",attrs:{cols:"12",md:"4"}},[a("label",[t._v("Tỉnh/ thành")]),a("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",items:t.itemsTinhThanh,"item-text":"tenMuc","item-value":"maMuc",dense:"",solo:"","hide-details":"auto","return-object":""},model:{value:t.thuongTruTinhThanh,callback:function(n){t.thuongTruTinhThanh=n},expression:"thuongTruTinhThanh"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[a("label",[t._v("Quận / Huyện")]),a("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",items:t.itemsThuongTruQuanHuyen,"item-text":"tenMuc","item-value":"maMuc",dense:"",solo:"","hide-details":"auto","return-object":""},model:{value:t.thuongTruQuanHuyen,callback:function(n){t.thuongTruQuanHuyen=n},expression:"thuongTruQuanHuyen"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[a("label",[t._v("Phường / Xã")]),a("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",items:t.itemsThuongTruPhuongXa,"item-text":"tenMuc","item-value":"maMuc",dense:"",solo:"","hide-details":"auto","return-object":""},model:{value:t.thuongTruPhuongXa,callback:function(n){t.thuongTruPhuongXa=n},expression:"thuongTruPhuongXa"}})],1),a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("v-btn",{staticClass:"mt-3 mx-2  text-white",attrs:{color:"primary",outlined:"",loading:t.loading,disabled:t.loading},on:{click:function(n){return t.goBack()}}},[a("v-icon",{attrs:{left:"",dark:"",size:"20"}},[t._v(" mdi-reply ")]),t._v(" Quay lại ")],1),"add"===t.typeAction?a("v-btn",{staticClass:"mt-3 mx-2  text-white",attrs:{color:"primary",loading:t.loading,disabled:t.loading},nativeOn:{click:function(n){return t.submitAddCongDan()}}},[a("v-icon",{attrs:{left:"",dark:"",size:"20"}},[t._v(" mdi-content-save ")]),t._v(" Thêm mới ")],1):a("v-btn",{staticClass:"mt-3 mx-2  text-white",attrs:{color:"primary",loading:t.loading,disabled:t.loading},nativeOn:{click:function(n){return t.submitUpdateCongDan()}}},[a("v-icon",{attrs:{left:"",dark:"",size:"20"}},[t._v(" mdi-content-save ")]),t._v(" Cập nhật ")],1)],1)],1)],1)],1)},i=[],o=a("3835"),h=(a("498a"),a("ac1f"),a("1276"),a("fb6a"),a("99af"),a("4d90"),a("d3b7"),a("25f0"),a("2b0e")),c=a("854a"),s=a.n(c),u=a("d30b"),l=a.n(u);h["default"].use(l.a),h["default"].component("vue-confirm-dialog",l.a.default),s.a.options={closeButton:!0,timeOut:"5000",positionClass:"toast-top-center"};var r={props:["id"],data:function(){return{loading:!1,validFormAdd:!1,typeAction:"add",itemsTinhThanh:[],diaChiHoatDongCuThe:"",thuongTruTinhThanh:"",itemsThuongTruQuanHuyen:[],thuongTruQuanHuyen:"",itemsThuongTruPhuongXa:[],thuongTruPhuongXa:"",thongTinDoanhNghiep:{danhBaLienLac:{soDienThoai:"",soFax:"",thuDienTu:""},diaChiHoatDong:{phuongXa:{maMuc:"",tenMuc:""},quanHuyen:{maMuc:"",tenMuc:""},soNhaChiTiet:"",tinhThanh:{maMuc:"",tenMuc:""}},maDinhDanh:"",giayCapPhepKinhDoanh:[],giayDangKyKinhDoanh:[],maSoDoanhNghiep:"",nguoiDaiDien:{hoVaTen:"",maDinhDanh:"",maSoCaNhan:""},tenGoi:"",tenTiengAnh:"",tenVietTat:"",tinhTrangToChuc:{maMuc:"",tenMuc:""},trangThaiDuLieu:{maMuc:"",tenMuc:""},vaiTroSuDung:[]},required:[function(t){return""!==t&&null!==t&&void 0!==t||"Thông tin bắt buộc"}],trangThaiDuLieu:!0}},created:function(){var t=this;t.$store.commit("SET_INDEXTAB",2),t.getDanhMucTinhThanh(),0!=t.id?(t.typeAction="update",t.getThongTinCongDan()):t.typeAction="add"},watch:{$route:function(t,n){var a=this;a.$store.commit("SET_INDEXTAB",2),a.getDanhMucTinhThanh(),0!=a.id?(a.typeAction="update",a.getThongTinCongDan()):a.typeAction="add"},thuongTruTinhThanh:function(){var t=this;t.changeTinhThanh()},thuongTruQuanHuyen:function(){var t=this;t.changeQuanHuyen()}},methods:{getThongTinCongDan:function(){var t=this,n={collectionName:"donvikinhdoanh",id:t.id};t.$store.dispatch("collectionDetail",n).then((function(n){var a=n.resp;if(a)for(var e in t.thongTinDoanhNghiep)a.hasOwnProperty(e)&&(t.thongTinDoanhNghiep[e]=a[e]);t.formatInputData(),console.log("dataCongDan",t.thongTinDoanhNghiep)})).catch((function(){t.loadingData=!1}))},submitAddCongDan:function(){var t=this;if(t.formatOutputData(),!t.loading)if(t.loading=!0,t.$refs.formAddCaNhan.validate()){var n={collectionName:"donvikinhdoanh",data:t.thongTinDoanhNghiep};t.$store.dispatch("collectionCreate",n).then((function(n){t.loading=!1,s.a.remove(),s.a.success("Thêm mới thành công");var a=n.resp;t.$router.push({path:"/thong-tin-doanh-nghiep/"+a.primKey})})).catch((function(n){t.loading=!1,s.a.remove(),s.a.error("Thêm mới thất bại")}))}else t.loading=!1},submitUpdateCongDan:function(){var t=this;if(t.formatOutputData(),!t.loading)if(t.loading=!0,t.$refs.formAddCaNhan.validate()){var n={collectionName:"donvikinhdoanh",id:t.id,data:t.thongTinDoanhNghiep};t.$store.dispatch("collectionUpdate",n).then((function(n){t.loading=!1,s.a.remove(),s.a.success("Cập nhật thông tin thành công"),window.history.back()})).catch((function(n){t.loading=!1,s.a.remove(),s.a.error("Cập nhật thông tin thất bại")}))}else t.loading=!1},getDanhMucTinhThanh:function(){var t=this,n={collectionName:"tinhthanh",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:""}};t.$store.dispatch("collectionFilter",n).then((function(n){t.itemsTinhThanh=n.content})).catch((function(){}))},getDanhMuc:function(){var t=this,n={collectionName:"tongiao",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:""}};t.$store.dispatch("collectionFilter",n).then((function(n){t.itemsTonGiao=n.content})).catch((function(){}));var a={collectionName:"dantoc",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:""}};t.$store.dispatch("collectionFilter",a).then((function(n){t.itemsDanToc=n.content})).catch((function(){}));var e={collectionName:"quocgia",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:""}};t.$store.dispatch("collectionFilter",e).then((function(n){t.itemsQuocTich=n.content})).catch((function(){}));var i={collectionName:"gioitinh",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:""}};t.$store.dispatch("collectionFilter",i).then((function(n){t.itemsGioiTinh=n.content})).catch((function(){}))},changeTinhThanh:function(t){var n=this,a=n.thuongTruTinhThanh["maMuc"],e={collectionName:"quanhuyen",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:a}};n.$store.dispatch("collectionFilter",e).then((function(t){n.itemsThuongTruQuanHuyen=t.content})).catch((function(){}))},changeQuanHuyen:function(t){var n=this,a=n.thuongTruQuanHuyen["maMuc"],e={collectionName:"phuongxa",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:a}};n.$store.dispatch("collectionFilter",e).then((function(t){n.itemsThuongTruPhuongXa=t.content})).catch((function(){}))},formatOutputData:function(){var t=this;t.thongTinDoanhNghiep.diaChiHoatDong={phuongXa:{maMuc:t.thuongTruPhuongXa.maMuc,tenMuc:t.thuongTruPhuongXa.tenMuc},quanHuyen:{maMuc:t.thuongTruQuanHuyen.maMuc,tenMuc:t.thuongTruQuanHuyen.tenMuc},tinhThanh:{maMuc:t.thuongTruTinhThanh.maMuc,tenMuc:t.thuongTruTinhThanh.tenMuc},soNhaChiTiet:t.diaChiHoatDongCuThe},t.thongTinDoanhNghiep.trangThaiDuLieu={maMuc:t.trangThaiDuLieu?"2":"1",tenMuc:t.trangThaiDuLieu?"Đang sử dụng":"Đánh dấu xóa"},console.log("thongTinCongDanOutput",t.thongTinDoanhNghiep)},formatInputData:function(){var t=this;t.diaChiHoatDongCuThe=t.thongTinDoanhNghiep.diaChiHoatDong.soNhaChiTiet,t.thuongTruTinhThanh=t.thongTinDoanhNghiep.diaChiHoatDong.tinhThanh,t.thuongTruQuanHuyen=t.thongTinDoanhNghiep.diaChiHoatDong.quanHuyen,t.thuongTruPhuongXa=t.thongTinDoanhNghiep.diaChiHoatDong.phuongXa,t.trangThaiDuLieu="2"==t.thongTinDoanhNghiep.trangThaiDuLieu.maMuc},formatBirthDate:function(){var t=this,n=String(t.ngaySinhCreate).trim().length,a=String(t.ngaySinhCreate).split("/");if(n&&n>4&&3===a.length&&a[2])t.ngaySinhCreate=t.translateDate(t.ngaySinhCreate);else if(n&&8===n){var e=String(t.ngaySinhCreate);t.ngaySinhCreate=e.slice(0,2)+"/"+e.slice(2,4)+"/"+e.slice(4,8)}else t.ngaySinhCreate=""},translateDate:function(t){if(!t)return null;var n=t.split("/"),a=Object(o["a"])(n,3),e=a[0],i=a[1],h=a[2];return"".concat(e.padStart(2,"0"),"/").concat(i.padStart(2,"0"),"/").concat(h)},dateLocale:function(t){var n=new Date(t);return"".concat(n.getDate().toString().padStart(2,"0"),"/").concat((n.getMonth()+1).toString().padStart(2,"0"),"/").concat(n.getFullYear())},convertDate:function(t){if(!t)return"";var n=t.split("/"),a=Object(o["a"])(n,3),e=a[0],i=a[1],h=a[2],c="".concat(h,"-").concat(i.padStart(2,"0"),"-").concat(e.padStart(2,"0"));return new Date(c).toISOString()},goBack:function(){window.history.back()}}},d=r,g=a("2877"),T=a("6544"),m=a.n(T),p=a("c6a6"),v=a("8336"),D=a("62ad"),f=a("4bd4"),C=a("132d"),b=a("0fd9"),y=a("b73d"),N=a("8654"),M=Object(g["a"])(d,e,i,!1,null,null,null);n["default"]=M.exports;m()(M,{VAutocomplete:p["a"],VBtn:v["a"],VCol:D["a"],VForm:f["a"],VIcon:C["a"],VRow:b["a"],VSwitch:y["a"],VTextField:N["a"]})}}]);