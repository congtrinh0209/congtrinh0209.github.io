(function(t){function e(e){for(var o,s,r=e[0],c=e[1],l=e[2],d=0,u=[];d<r.length;d++)s=r[d],n[s]&&u.push(n[s][0]),n[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);p&&p(e);while(u.length)u.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],o=!0,r=1;r<a.length;r++){var c=a[r];0!==n[c]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var o={},n={app:0},i=[];function s(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=o,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(a,o,function(e){return t[e]}.bind(null,o));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var p=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("0f18");var o=a("a026"),n=a("bb71");a("74ef");o["a"].use(n["a"],{theme:{primary:"#001f4d",secondary:"#424242",accent:"#001f4d",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},customProperties:!0,iconfont:"md"});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app_employees"}},[t._e(),a("v-content",[a("router-view")],1)],1)},s=[],r=a("bbd0"),c={props:[],data:function(){return{}},computed:{},created:function(){var t=this;t.$nextTick(function(){})},methods:{}},l=c,p=a("2877"),d=a("6544"),u=a.n(d),v=a("7496"),h=a("549c"),f=a("f774"),m=Object(p["a"])(l,i,s,!1,null,null,null);m.options.__file="App.vue";var g=m.exports;u()(m,{VApp:v["a"],VContent:h["a"],VNavigationDrawer:f["a"]});var x=a("8c4f"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("v-toolbar",{attrs:{height:"40",color:"primary",flat:""}},[a("v-toolbar-title",{staticClass:"white--text",staticStyle:{"font-size":"14px"}},[t._v("\n      I.\tCÁN BỘ TRỰC THUỘC TRUNG TÂM\n    ")])],1),a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",{attrs:{flat:""}},[a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.employeeItems,function(e){return a("v-flex",{key:e.employeeId,attrs:{xs12:"",sm4:"",md2:""}},[a("v-card",{attrs:{color:"#1a571b21"}},[a("v-flex",{staticStyle:{"text-align":"center!important"}},[e["photoFileEntryId"]?a("img",{staticStyle:{width:"150px",height:"200px","object-fit":"contain"},attrs:{src:e.photoFileEntryId}}):a("img",{staticStyle:{width:"150px",height:"200px","object-fit":"contain"},attrs:{src:"https://img.icons8.com/windows/150/000000/contacts.png"}})]),a("v-divider",{attrs:{light:""}}),a("v-card-text",{staticClass:"py-2 px-1"},[a("v-flex",{staticClass:"text-bold text-xs-center px-2",attrs:{xs12:""}},[a("span",{staticClass:"primary--text"},[t._v(t._s(e.fullName))])]),a("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[a("span",[t._v(" "+t._s(e.jobPosTitle))])]),a("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[a("span",[t._v(t._s(e.workingUnit))])]),a("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[a("span",[t._v(t._s(e.telNo))])])],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",[a("v-spacer"),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(a){t.showVoting(e)}},slot:"activator"},[a("v-icon",{attrs:{color:"green",size:"22px"}},[t._v("star")])],1),a("span",[t._v("Đánh giá")])],1),a("v-tooltip",{staticClass:"ml-1",attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(a){t.showVotingResult(e)}},slot:"activator"},[a("v-icon",{attrs:{color:"orange",size:"22px"}},[t._v("bookmark")])],1),a("span",[t._v("Xem đánh giá")])],1)],1)],1)],1)}),1)],1)],1)],1)],1),a("v-toolbar",{attrs:{height:"40",color:"primary",flat:""}},[a("v-toolbar-title",{staticClass:"white--text",staticStyle:{"font-size":"14px"}},[t._v("\n      II.\t CÁN BỘ BIỆT PHÁI ĐẾN LÀM VIỆC TẠI TRUNG TÂM\n    ")])],1),a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",{attrs:{flat:""}},[a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.employeeItems,function(e){return 1===e.userType?a("v-flex",{key:e.employeeId,attrs:{xs12:"",sm4:"",md2:""}},[a("v-card",{attrs:{color:"#1a571b21"}},[a("v-flex",{staticStyle:{"text-align":"center!important"}},[e["photoFileEntryId"]?a("img",{staticStyle:{width:"150px",height:"200px","object-fit":"contain"},attrs:{src:e.photoFileEntryId}}):a("img",{staticStyle:{width:"150px",height:"200px","object-fit":"contain"},attrs:{src:"https://img.icons8.com/windows/150/000000/contacts.png"}})]),a("v-divider",{attrs:{light:""}}),a("v-card-text",{staticClass:"py-2 px-1"},[a("v-flex",{staticClass:"text-bold text-xs-center px-2",attrs:{xs12:""}},[a("span",{staticClass:"primary--text"},[t._v(t._s(e.fullName))])]),a("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[a("span",[t._v(" "+t._s(e.jobPosTitle))])]),a("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[a("span",[t._v(t._s(e.workingUnit))])]),a("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[a("span",[t._v(t._s(e.telNo))])])],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",[a("v-spacer"),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(a){t.showVoting(e)}},slot:"activator"},[a("v-icon",{attrs:{color:"green",size:"22px"}},[t._v("star")])],1),a("span",[t._v("Đánh giá")])],1),a("v-tooltip",{staticClass:"ml-1",attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(a){t.showVotingResult(e)}},slot:"activator"},[a("v-icon",{attrs:{color:"orange",size:"22px"}},[t._v("bookmark")])],1),a("span",[t._v("Xem đánh giá")])],1)],1)],1)],1):t._e()}),1)],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog_voting,callback:function(e){t.dialog_voting=e},expression:"dialog_voting"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Đánh giá cán bộ")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:"",dark:""},on:{click:t.closeVoting}},[a("v-icon",[t._v("close")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm1:""}}),a("v-flex",{attrs:{xs12:"",sm10:""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"pl-4",attrs:{xs12:"",sm9:""}},[Array.isArray(t.votingItems)&&t.votingItems.length>0?a("v-card",{staticClass:"py-1",attrs:{flat:""}},t._l(t.votingItems,function(e,o){return a("div",{key:o},[a("div",{staticClass:"text-bold primary--text"},[t._v(t._s(o+1)+". "+t._s(e.subject))]),a("div",{staticClass:"ml-4"},[a("v-radio-group",{staticClass:"mt-1",attrs:{column:""},model:{value:e.selected,callback:function(a){t.$set(e,"selected",a)},expression:"item.selected"}},t._l(e["choices"],function(t,e){return a("v-radio",{key:"rd"+e,attrs:{label:t,value:e+1}})}),1)],1)])}),0):a("div",{staticClass:"px-3"},[a("v-alert",{attrs:{outline:"",color:"warning",icon:"priority_high",value:!0}},[t._v("\n                    Không có câu hỏi đánh giá\n                  ")])],1),a("v-flex",{staticClass:"mt-3",attrs:{xs12:"",sm12:""}},[Array.isArray(t.votingItems)&&t.votingItems.length>0?a("v-btn",{attrs:{color:"primary"},on:{click:t.submitResultVoting}},[a("v-icon",{attrs:{size:"16"}},[t._v("save")]),t._v(" \n                    Gửi kết quả đánh giá\n                  ")],1):t._e(),a("v-btn",{attrs:{color:"primary"},on:{click:t.closeVoting}},[a("v-icon",{attrs:{size:"16"}},[t._v("reply")]),t._v(" \n                    Quay lại \n                  ")],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm3:""}},[a("v-card",{attrs:{flat:"",color:"#1a571b21",width:"225px","max-height":"350"}},[a("v-flex",{staticStyle:{"text-align":"center!important"}},[t.employeeSelected["photoFileEntryId"]?a("img",{staticStyle:{width:"150px",height:"200px","object-fit":"contain"},attrs:{src:t.employeeSelected.photoFileEntryId}}):a("img",{staticStyle:{width:"150px",height:"200px","object-fit":"contain"},attrs:{src:"https://img.icons8.com/windows/150/000000/contacts.png"}})]),a("v-divider",{attrs:{light:""}}),a("v-card-text",{staticClass:"py-2 px-1"},[a("v-flex",{staticClass:"text-bold text-xs-center px-2 pb-2",attrs:{xs12:""}},[a("span",{staticClass:"primary--text"},[t._v(t._s(t.employeeSelected.fullName))])]),a("v-flex",{staticClass:"px-1 pb-2",attrs:{xs12:""}},[a("span",{staticClass:"text-bold"},[t._v(" Chức vụ: ")]),a("span",[t._v(" "+t._s(t.employeeSelected.jobPosTitle))])]),a("v-flex",{staticClass:"px-1 pb-2",attrs:{xs12:""}},[a("span",{staticClass:"text-bold"},[t._v(" Đơn vị: ")]),a("span",[t._v(t._s(t.employeeSelected.workingUnit))])]),a("v-flex",{staticClass:"px-1 pb-2",attrs:{xs12:""}},[a("span",{staticClass:"text-bold"},[t._v(" Điện thoại: ")]),a("span",[t._v(t._s(t.employeeSelected.telNo))])])],1)],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm1:""}})],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.dialogShowApplicantIdNo,callback:function(e){t.dialogShowApplicantIdNo=e},expression:"dialogShowApplicantIdNo"}},[a("v-form",{ref:"formVoting",attrs:{"lazy-validation":""},model:{value:t.validFormVoting,callback:function(e){t.validFormVoting=e},expression:"validFormVoting"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Nhập số CMND, mã hồ sơ để xác thực")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogShowApplicantIdNo=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-text-field",{attrs:{box:"",label:"Số chứng minh thư nhân dân",rules:[function(t){return!!t||"Trường dữ liệu bắt buộc"}],required:""},model:{value:t.applicantIdNo,callback:function(e){t.applicantIdNo=e},expression:"applicantIdNo"}})],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-text-field",{attrs:{box:"",label:"Mã hồ sơ",rules:[function(t){return!!t||"Trường dữ liệu bắt buộc"}],required:""},model:{value:t.dossierNo,callback:function(e){t.dossierNo=e},expression:"dossierNo"}})],1),t.showCaptcha?a("v-flex",{staticClass:"mb-3",attrs:{xs12:"",sm12:""}},[a("captcha",{ref:"captcha"})],1):t._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:""},nativeOn:{click:function(e){return t.doVottingSubmit(e)}}},[t._v("Đồng ý")]),a("v-btn",{attrs:{color:"green darken-1",flat:""},nativeOn:{click:function(e){return function(){return t.dialogShowApplicantIdNo=!1}()}}},[t._v("Quay lại")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog_voting_result,callback:function(e){t.dialog_voting_result=e},expression:"dialog_voting_result"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Kết quả đánh giá cán bộ")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:"",dark:""},on:{click:t.closeVotingResult}},[a("v-icon",[t._v("close")])],1)],1)],1),a("v-card-text",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"pl-4",attrs:{xs12:"",sm9:""}},[Array.isArray(t.votingItems)&&t.votingItems.length>0?a("v-card",{staticClass:"py-1",attrs:{flat:""}},t._l(t.votingItems,function(e,o){return a("div",{key:o},[a("div",{staticClass:"text-bold primary--text"},[t._v("\n                  "+t._s(o+1)+". "+t._s(e.subject)+"\n                  "),a("i",{staticStyle:{color:"#ad1717"}},[t._v(" (Số lượt đánh giá: "+t._s(e.answersCount)+")")])]),a("v-card",{staticClass:"pl-2",attrs:{flat:""}},[a("v-card-text",{staticClass:"px-2 py-1 pr-0"},t._l(e["choices"],function(o,n){return a("div",{key:"rd"+n},[a("v-layout",{staticClass:"mb-2",attrs:{wrap:""}},[a("div",{staticClass:"flex xs6 sm8 pr-2"},[t._v(t._s(o)+" "),a("span",{staticClass:"text-bold",style:"color:"+t.barColor[n]},[t._v("("+t._s(e.answers[n])+")")])]),e.answersCount>0?a("progress-bar",{staticClass:"flex xs6 sm4",staticStyle:{"z-index":"10000"},attrs:{size:"16",spacing:1,"bar-transition":"all 1s ease",val:t.getPercent(e.answers,n),text:0!==t.getPercent(e.answers,n)?t.getPercent(e.answers,n)+"%":"","text-position":"inside","bg-color":"#e0e0e0","bar-color":t.barColor[n],"text-fg-color":"#fff"}}):t._e()],1)],1)}),0)],1)],1)}),0):a("div",{staticClass:"px-3"},[a("v-alert",{attrs:{outline:"",color:"warning",icon:"priority_high",value:!0}},[t._v("\n                Không có câu hỏi đánh giá\n              ")])],1),a("v-flex",{staticClass:"mt-3",attrs:{xs12:"",sm12:""}},[a("v-btn",{attrs:{color:"primary"},on:{click:t.closeVotingResult}},[a("v-icon",{attrs:{size:"16"}},[t._v("reply")]),t._v(" \n                Quay lại \n              ")],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm3:""}},[a("v-card",{attrs:{flat:"",color:"#1a571b21",width:"225px","max-height":"350"}},[a("v-flex",{staticStyle:{"text-align":"center!important"}},[t.employeeSelected["photoFileEntryId"]?a("img",{staticStyle:{width:"150px",height:"200px","object-fit":"contain"},attrs:{src:t.employeeSelected.photoFileEntryId}}):a("img",{staticStyle:{width:"150px",height:"200px","object-fit":"contain"},attrs:{src:"https://img.icons8.com/windows/150/000000/contacts.png"}})]),a("v-divider",{attrs:{light:""}}),a("v-card-text",{staticClass:"py-2 px-1"},[a("v-flex",{staticClass:"text-bold text-xs-center px-2 pb-2",attrs:{xs12:""}},[a("span",{staticClass:"primary--text"},[t._v(t._s(t.employeeSelected.fullName))])]),a("v-flex",{staticClass:"px-1 pb-2",attrs:{xs12:""}},[a("span",{staticClass:"text-bold"},[t._v(" Chức vụ: ")]),a("span",[t._v(" "+t._s(t.employeeSelected.jobPosTitle))])]),a("v-flex",{staticClass:"px-1 pb-2",attrs:{xs12:""}},[a("span",{staticClass:"text-bold"},[t._v(" Đơn vị: ")]),a("span",[t._v(t._s(t.employeeSelected.workingUnit))])]),a("v-flex",{staticClass:"px-1 pb-2",attrs:{xs12:""}},[a("span",{staticClass:"text-bold"},[t._v(" Điện thoại: ")]),a("span",[t._v(t._s(t.employeeSelected.telNo))])])],1)],1)],1)],1)],1)],1)],1)],1)},b=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",{staticClass:"py-3 ml-3 text-xs-center"},[a("span",{staticStyle:{color:"#065694"}},[t._v("DANH SÁCH CÁN BỘ LÀM VIỆC TẠI TRUNG TÂM PHỤC VỤ HÀNH CHÍNH CÔNG")])])}],_=a("1157"),w=a.n(_),I=a("854a"),C=a.n(I),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",[t._v("Kéo thả các ô vuông để cho đúng thứ tự")]),a("br"),a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"",sm12:""}},[a("v-chip",{staticStyle:{"background-color":"#81D4FA"},attrs:{label:"","text-color":"white"}},[t._v("\n      "+t._s(t.captcha)+"\n    ")])],1),a("div",{directives:[{name:"drag-and-drop",rawName:"v-drag-and-drop:options",value:t.options,expression:"options",arg:"options"}],staticClass:"drag-wrapper text-xs-center mt-3"},[a("ul",{attrs:{id:"captcha"}},t._l(t.arrCaptcha,function(e,o){return a("li",{key:o,staticClass:"item-captcha",staticStyle:{padding:"10px 15px","background-color":"#81D4FA","margin-right":"2px",color:"#fff","font-weight":"bold"}},[t._v(t._s(e))])}),0)])],1)},k=[],V={props:["index"],components:{},data:function(){return{options:{},arrCaptcha:[],captcha:"",currentlyDragging:null,loggedEvent:"",images:[{name:"Image 1",src:"http://placehold.it/100/000000/ffffff"},{name:"Image 2",src:"http://placehold.it/100/C93742/ffffff"},{name:"Image 3",src:"http://placehold.it/100/6894D1/ffffff"}]}},computed:{loading:function(){return this.$store.getters.loading}},created:function(){var t=this;t.makeRandomString(),t.shuffleArrCaptcha(t.arrCaptcha)},watch:{},methods:{makeRandomString:function(){for(var t=this,e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<4;o++)e+=a.charAt(Math.floor(Math.random()*a.length));e&&(t.arrCaptcha=t.shuffleArrCaptcha(e.split(""))),t.captcha=e},shuffleArrCaptcha:function(t){var e=t.length,a=null,o=0;while(e>0)o=Math.floor(Math.random()*e),e--,a=t[e],t[e]=t[o],t[o]=a;return t},checkValidCaptcha:function(){var t=this,e="",a=w()("#captcha").children();console.log(a);for(var o=0;o<a.length;o++)e+=a[o].innerHTML;return t.captcha===e}},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear())}return""}}},N=V,D=(a("cf0c"),a("cc20")),T=a("0e8f"),P=Object(p["a"])(N,S,k,!1,null,null,null);P.options.__file="Captcha.vue";var A=P.exports;u()(P,{VChip:D["a"],VFlex:T["a"]});var R=a("a7e3"),F=a.n(R);o["a"].use(C.a),C.a.options={closeButton:!0,timeOut:"5000"};var j={props:[],components:{captcha:A,ProgressBar:F.a},data:function(){return{loading:!1,employeeItems:[],dialog_voting:!1,dialog_voting_result:!1,dialogShowApplicantIdNo:!1,applicantIdNo:"",dossierNo:"",employeeSelected:"",votingItems:[],showCaptcha:!1,validFormVoting:!1,barColor:["#5cb85c","#f0ad4e","#d9534f","#2e4fc8","#2ec8bad9"]}},computed:{},created:function(){var t=this;t.$nextTick(function(){var t=this,e=t.$router.history.current;e.query;t.$nextTick(function(){t.$store.dispatch("loadEmployees").then(function(e){t.employeeItems=e,console.log(t.employeeItems)}).catch(function(t){})})})},updated:function(){var t=this;t.$nextTick(function(){})},watch:{$route:function(t,e){t.params,t.query}},methods:{showVoting:function(t){var e=this;e.employeeSelected=t,e.dialog_voting=!0,e.$store.dispatch("loadVoting",{className:"employee",classPk:t.employeeId}).then(function(t){e.votingItems=t,console.log(e.votingItems)}).catch(function(t){})},showVotingResult:function(t){var e=this;e.employeeSelected=t,e.dialog_voting_result=!0,e.$store.dispatch("loadVoting",{className:"employee",classPk:t.employeeId}).then(function(t){e.votingItems=t,console.log(e.votingItems)}).catch(function(t){})},closeVoting:function(){var t=this;t.dialog_voting=!1,t.dialogShowApplicantIdNo=!1},closeVotingResult:function(){var t=this;t.dialog_voting_result=!1},submitResultVoting:function(){var t=this,e=window.themeDisplay?window.themeDisplay.isSignedIn():"";e?t.doVottingResultSubmit():t.dialogShowApplicantIdNo=!0},doVottingSubmit:function(){var t=this;if(t.$refs.formVoting.validate())if(t.$refs.captcha)if(t.$refs.captcha.checkValidCaptcha()){var e={applicantIdNo:t.applicantIdNo,dossierNo:t.dossierNo};t.$store.dispatch("checkPermisionVoting",e).then(function(e){console.log("result",e),!0===e.hasPermission||"true"===e.hasPermission?t.doVottingResultSubmit():C.a.error("Số CMTND hoặc Số hồ sơ không chính xác")}).catch(function(t){C.a.error("Lỗi hệ thống")})}else C.a.error("Mã captcha không đúng. Vui lòng kiểm tra lại");else t.showCaptcha=!0},doVottingResultSubmit:function(){var t=this,e=[];for(var a in t.votingItems)t.votingItems[a]["className"]="employee",t.votingItems[a]["classPk"]=t.employeeSelected["employeeId"],e.push(t.$store.dispatch("submitVoting",t.votingItems[a]));Promise.all(e).then(function(e){C.a.success("Gửi đánh giá thành công thành công"),t.dialogShowApplicantIdNo=!1,t.dialog_voting=!1,t.$refs.captcha&&t.$refs.captcha.makeRandomString()}).catch(function(e){C.a.error("Gửi đánh giá thất bại"),t.dialogShowApplicantIdNo=!1})},getPercent:function(t,e){for(var a=0,o=0,n=0;n<t.length;n++)a+=t[n];return o=(t[e]/a*100).toFixed(1),o},goBack:function(){var t=this;t.dialog_voting=!1}}},$=j,E=a("0798"),M=a("8336"),O=a("b0af"),U=a("99d9"),H=a("a523"),L=a("169a"),G=a("ce7e"),z=a("4bd4"),B=a("132d"),q=a("a722"),K=a("67b6"),Q=a("43a6"),J=a("9910"),W=a("2677"),X=a("71d9"),Y=a("2a7f"),Z=a("3a2f"),tt=Object(p["a"])($,y,b,!1,null,null,null);tt.options.__file="Landing.vue";var et=tt.exports;u()(tt,{VAlert:E["a"],VBtn:M["a"],VCard:O["a"],VCardActions:U["a"],VCardText:U["b"],VContainer:H["a"],VDialog:L["a"],VDivider:G["a"],VFlex:T["a"],VForm:z["a"],VIcon:B["a"],VLayout:q["a"],VRadio:K["a"],VRadioGroup:Q["a"],VSpacer:J["a"],VTextField:W["a"],VToolbar:X["a"],VToolbarItems:Y["a"],VToolbarTitle:Y["b"],VTooltip:Z["a"]});var at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1)],1)],1)},ot=[],nt={},it=nt,st=a("490a"),rt=Object(p["a"])(it,at,ot,!1,null,null,null);rt.options.__file="NotFound.vue";var ct,lt,pt=rt.exports;u()(rt,{VContainer:H["a"],VFlex:T["a"],VLayout:q["a"],VProgressCircular:st["a"]});var dt={},ut=Object(p["a"])(dt,ct,lt,!1,null,null,null);ut.options.__file="DanhGia.vue";var vt=ut.exports,ht=[{path:"/danh-sach-can-bo/:index/danhgia",name:"DanhGia",component:vt,props:!0},{path:"/danh-sach-can-bo",name:"Landing",component:et,props:!0},{path:"/danh-sach-ho-so/:index/tiep-nhan-ho-so/:id/:formCode",name:"TiepNhanHoSoDetail",component:TiepNhanHoSoDetail,props:!0},{path:"/danh-sach-ho-so/:index/bo-sung-ho-so/:id",name:"HoanThienBoSungHoSoDetail",component:HoanThienBoSungHoSoDetail,props:!0},{path:"/danh-sach-ho-so/:index/ho-so/:id/:formCode",name:"DetailForward",component:DetailForward,props:!0},{path:"*",name:"NotFound",component:pt}];o["a"].use(x["a"]);var ft=new x["a"]({routes:ht}),mt=ft,gt=a("2f62"),xt=a("bc3a"),yt=a.n(xt);o["a"].use(C.a),o["a"].use(gt["a"]);var bt=new gt["a"].Store({state:{initData:{},loading:!1,index:0,endPointApi:"/o/rest/v2"},actions:{loadInitResource:function(t){t.commit;var e=t.state;return new Promise(function(t,a){null!==window.themeDisplay&&void 0!==window.themeDisplay?(e.initData["groupId"]=window.themeDisplay.getScopeGroupId(),e.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(e.initData["groupId"]=0,e.initData["user"]={userName:"",userEmail:"",userId:20103}),t(e.initData)})},loadVoting:function(t,e){t.commit;var a=t.state;return new Promise(function(t,o){bt.dispatch("loadInitResource").then(function(n){var i={headers:{groupId:a.initData.groupId}};yt.a.get(a.endPointApi+"/postal/votings/"+e.className+"/"+e.classPk,i).then(function(e){e.data?t(e.data.data):t([])}).catch(function(t){o(t)})})})},loadImageEmployee:function(t,e){t.commit;var a=t.state;return console.log(e),new Promise(function(t,o){bt.dispatch("loadInitResource").then(function(n){var i={headers:{groupId:a.initData.groupId},responseType:"blob"};yt.a.get("/o/rest/v2/users/"+e.mappingUser.userId+"/photo",i).then(function(e){var a=window.URL.createObjectURL(e.data);t(a)}).catch(function(t){o(t)})})})},loadEmployees:function(t,e){t.commit;var a=t.state;return new Promise(function(t,e){bt.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}};yt.a.get(a.endPointApi+"/employees",n).then(function(e){e.data?t(e.data.data):t([])}).catch(function(t){e(t)})})})},getEmployee:function(t,e){t.commit;var a=t.state;return new Promise(function(t,o){bt.dispatch("loadInitResource").then(function(n){var i={headers:{groupId:a.initData.groupId}};yt.a.get(r.initData.detailEmployeeApi+"/"+e.employeeId,i).then(function(e){t(e.data)}).catch(function(t){o(t)})})})},checkPermisionVoting:function(t,e){t.commit;var a=t.state;return new Promise(function(t,o){bt.dispatch("loadInitResource").then(function(){var n={headers:{groupId:a.initData.groupId},params:{applicantIdNo:e.applicantIdNo,dossierNo:e.dossierNo}};yt.a.get(a.endPointApi+"/votings/checkpermission",n).then(function(e){var a=e.data;t(a)}).catch(function(t){console.log(t),o(t)})})})},submitVoting:function(t,e){t.commit;var a=t.state;return new Promise(function(t,o){bt.dispatch("loadInitResource").then(function(n){var i=new URLSearchParams,s={headers:{groupId:a.initData.groupId}};e.comment&&i.append("comment",e.comment),i.append("selected",e.selected),i.append("className",e.className),i.append("classPk",e.classPk),yt.a.post(a.endPointApi+"/postal/votings/"+e.votingId+"/results",i,s).then(function(e){t(e.data)}).catch(function(t){o(t)})})})}},mutations:{setIndex:function(t,e){t.index=e},setInitData:function(t,e){t.initData=e}},getters:{loading:function(t){return t.loading},index:function(t){return t.index}}}),_t=a("967d"),wt=a("d8c5"),It=a.n(wt);a("d304");o["a"].use(_t["default"]),o["a"].use(It.a);var Ct=void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0;yt.a.defaults.withCredentials=!0,yt.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",yt.a.defaults.headers.common["groupId"]=Ct,o["a"].config.productionTip=!0,o["a"].mixin({methods:{getScopeGroupId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0},getAuthToken:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.Liferay.authToken:""},getUserId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getUserId():0}}}),new o["a"]({router:mt,store:bt,created:function(){var t=this;t.$nextTick(function(){t.$store.dispatch("loadInitResource"),window.location.href.endsWith("#/")&&t.$router.push("/danh-sach-can-bo")})},render:function(t){return t(g)}}).$mount("#app_employees")},"726e":function(t,e,a){},"74ef":function(t,e,a){},bbd0:function(t){t.exports={renderURLInit:"?p_p_id=FrontendWebVoting&p_p_lifecycle=2&p_p_state=exclusive&p_p_mode=view&p_p_resource_id=renderURLInit",initData:{votingApi:"/o/rest/v2/postal/votings",agenciesApi:"/o/rest/v2/serviceinfos/statistics/agencies",employeeApi:"/o/rest/v2/employees/publish",detailEmployeeApi:"/o/rest/v2/employees",dictcollectionsApi:"/o/rest/v2/dictcollections"}}},cf0c:function(t,e,a){"use strict";var o=a("726e"),n=a.n(o);n.a}});
//# sourceMappingURL=app.js.map