(function(t){function e(e){for(var i,r,s=e[0],l=e[1],c=e[2],u=0,p=[];u<s.length;u++)r=s[u],n[r]&&p.push(n[r][0]),n[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={app:0},o=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=l;o.push(["56d7","chunk-vendors"]),a()})({"0b6e":function(module,__webpack_exports__,__webpack_require__){"use strict";var _DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fa98"),axios__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);__webpack_exports__["a"]={props:["id","datainput"],components:{DatetimePicker:_DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_0__["a"]},data:function(){return{isCallBack:!0,config:{},pullOk:!0,pullCounter:0,valid:!0,loading:!1,data:{},cmOptions:{tabSize:4,mode:"text/javascript",theme:"base16-light",lineNumbers:!0,line:!0},rules:{required:function(t){return!!t||"Bắt buộc phải nhập."},number:function(t){var e=/^\d+$/;return e.test(t)||"Bắt buộc phải nhập kiểu số."},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Sai định dạng thư điện tử."}},dataForm:""}},created:function(){var t=this;if("0"!==String(t.id)){t.data=t.datainput;try{t.dataForm=JSON.parse(t.data["formData"])}catch(e){}}else t.processDataSource()},computed:{detailForm:function(){var t=this.$store.getters.getContentFileSimple;return""===t?[]:t},dataSocket:{get:function(){return this.$store.getters.dataSocket},set:function(t){this.$store.commit("setdataSocket",t)}},pullCounterOrg:function(){return this.$store.getters.pullCounter},activeBindFormData:function(){return this.$store.getters.getActiveBindFormData}},updated:function(){var t=this;t.$nextTick(function(){t.isCallBack&&(t.isCallBack=!1,t.processDataSource(),setTimeout(function(){if("0"!==String(t.id)){t.data=t.datainput;try{t.dataForm=JSON.parse(t.data["formData"])}catch(e){}}0===t.pullCounterOrg&&(t.pullOk=!0),setTimeout(function(){t.pullOk=!0},1e3)},500))})},mounted:function(){var t=this;t.processDataSource()},watch:{data:{handler:function(t){var e=this;e.$store.commit("setChangeFormData",t),e.$store.commit("setActiveBindFormData",!e.activeBindFormData)},deep:!0},datainput:function(t){var e=this;if("0"!==String(e.id)){e.data=t;try{e.dataForm=JSON.parse(e.data["formData"])}catch(a){}}}},methods:{clearLoading:function(){this.loading=!1},processRules:function processRules(rulesStr){return eval("( "+rulesStr+" )")},processChangeDataSource:function(t,e){var a=this;e.hasOwnProperty("concatina")&&(a.pullOk=!1,a.pullCounter=a.pullCounter+1)},processDataSourceVerify:function(){var t=this,e=function(e){t.detailForm[e].hasOwnProperty("datasource_api")&&t.detailForm[e].hasOwnProperty("datasource_key")&&t.data.hasOwnProperty(t.detailForm[e]["model"])&&String(t.data[t.detailForm[e]["model"]]).startsWith("[")&&(t.data[t.detailForm[e]["model"]]=JSON.parse(t.data[t.detailForm[e]["model"]])),"0"===String(t.id)&&"subject"===t.detailForm[e]["model"]&&(t.detailForm[e]["model"]="  ",setTimeout(function(){t.detailForm[e]["model"]="subject"},200))};for(var a in t.detailForm)e(a)},processDataSource:function(){var t=this,e=function(e){if(t.detailForm[e].hasOwnProperty("datasource_api")&&t.detailForm[e].hasOwnProperty("datasource_key")){t.pullCounter=t.pullCounter+1;var a=t.detailForm[e]["datasource_api"];t.detailForm[e]["dependency"]&&t.detailForm[e].hasOwnProperty("pk")&&(a=a+"?pk="+t.id+"&col="+t.detailForm[e]["pk"]);var i={headers:{groupId:t.getScopeGroupId()}};axios__WEBPACK_IMPORTED_MODULE_1___default.a.get(a,i).then(function(a){var i=a.data;i["data"]?t.data[t.detailForm[e]["datasource_key"]]=i["data"]:t.data[t.detailForm[e]["datasource_key"]]=i,t.detailForm[e]["value"]&&"0"===String(t.id)&&(t.data[t.detailForm[e]["model"]]=t.detailForm[e]["value"]),t.processDataSourceVerify()}).catch(function(t){})}};for(var a in t.detailForm)e(a)},parseDate:function(t){if(t){var e=new Date(Number(t));return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear())}return""},checkVisible:function(t,e){if(t["visible"]){var a=String(t["visible"]).split(",");return a.filter(function(t){return t===e["deliverableType"]}).length>0}return!0}},filters:{parseDateFilter:function(t){if(t){var e=new Date(Number(t));return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear())}return""}}}},"1f98":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!==t.layout_view&&void 0!==t.layout_view&&"undefined"!==t.layout_view?a("my-dynamic-view"):t._e()},n=[],o=a("f8a0"),r=o["a"],s=a("2877"),l=Object(s["a"])(r,i,n,!1,null,null,null);l.options.__file="template_rendering.vue";e["a"]=l.exports},"2af9":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",staticClass:"px-3 py-3 vuejx__form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"mb-5 pt-0",attrs:{id:"formDelivert"}})])],1)],1)},n=[],o=a("be4e"),r=o["a"],s=a("2877"),l=a("6544"),c=a.n(l),d=a("0e8f"),u=a("4bd4"),p=a("a722"),_=Object(s["a"])(r,i,n,!1,null,null,null);_.options.__file="BbatTableEditorComponent.vue";var v=_.exports;c()(_,{VFlex:d["a"],VForm:u["a"],VLayout:p["a"]});var m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",staticClass:"px-3 py-2 grid-list",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[null!==t.detailForm&&t.detailForm.length>0?a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.detailForm,function(e,i){return a("v-flex",{key:i,class:e["class"]},[t.checkVisible(e,t.data)?a("v-flex",["date"===e.type?a("v-text-field",{class:e["class_component"],staticStyle:{"pointer-events":"none"},attrs:{value:e["valueFormData"]?t.dataForm[e.model]:t.parseDate(t.data[e.model]),box:""}},[a("template",{slot:"label"},[t._v(t._s(e["label"])+" "),e.required?a("span",{staticClass:"red--text darken-3"},[t._v("*")]):t._e()])],2):t._e(),"avatar"===e.type?a("attached-file-avatar",{attrs:{pk:t.data[e.model],"pick-item":e,"current-data":t.data}}):t._e(),"button"===e.type&&e["link"]&&(e.dependency&&"0"!==String(t.id)||!e.dependency)?a("v-btn",{class:e["class_component"],attrs:{color:"blue darken-3",dark:"",to:e.url+"?pk="+t.data[e.pk]+"&col="+e.pk}},["link"===e["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[t._v("how_to_vote")]):t._e(),"popup"===e["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[t._v("flip_to_back")]):t._e(),t._v("\n          "+t._s(e.label)+"\n        ")],1):t._e(),"button"===e.type&&e["account"]&&(e.dependency&&"0"!==String(t.id)||!e.dependency)?a("v-btn",{class:e["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){t.showAccount(e)}}},["link"===e["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[t._v("how_to_vote")]):t._e(),"popup"===e["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[t._v("flip_to_back")]):t._e(),t._v("\n          "+t._s(e.label)+"\n        ")],1):t._e(),"button"===e.type&&e["attached"]&&(e.dependency&&"0"!==String(t.id)||!e.dependency)?a("v-btn",{class:e["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){t.showAttached(e)}}},["link"===e["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[t._v("how_to_vote")]):t._e(),"popup"===e["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[t._v("flip_to_back")]):t._e(),t._v("\n          "+t._s(e.label)+"\n        ")],1):t._e(),"button"===e.type&&e["fileform"]&&(e.dependency&&"0"!==String(t.id)||!e.dependency)?a("v-btn",{class:e["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){t.showAttached(e)}}},["link"===e["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[t._v("how_to_vote")]):t._e(),"popup"===e["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[t._v("flip_to_back")]):t._e(),t._v("\n          "+t._s(e.label)+"\n        ")],1):t._e(),"selects"===e.type&&!t.pullOk&&e.hasOwnProperty("datasource_key")?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),"combobox"===e.type&&t.pullOk&&e.hasOwnProperty("datasource_key")?a("v-combobox",{class:e["class_component"],attrs:{items:t.dataSocket[e["datasource_key"]],"item-text":e.itemText,"item-value":e.itemValue,box:"",label:e.required?e["label"]+" *":e["label"],rules:t.processRules(e.rules),"no-data-text":"Không tìm thấy dữ liệu "+e["label"],chips:e["chips"],multiple:e["multiple"],clearable:""},on:{change:function(a){t.processChangeDataSource(a,e)}},model:{value:t.data[e.model],callback:function(a){t.$set(t.data,e.model,a)},expression:"data[item.model]"}}):t._e(),"selects"===e.type&&t.pullOk&&e.hasOwnProperty("datasource_key")?a("v-autocomplete",{class:e["class_component"],style:e["disable"]?"pointer-events: none":"",attrs:{items:t.data[e["datasource_key"]],"item-text":e.itemText,"item-value":e.itemValue,box:"",rules:t.processRules(e.rules),"no-data-text":"Không tìm thấy dữ liệu "+e["label"],chips:e["chips"],multiple:e["multiple"]},on:{change:function(a){t.processChangeDataSource(a,e)}},model:{value:t.data[e["model"]],callback:function(a){t.$set(t.data,e["model"],a)},expression:"data[item['model']]"}},[a("template",{slot:"label"},[t._v(t._s(e["label"])+" "),e.required?a("span",{staticClass:"red--text darken-3"},[t._v("*")]):t._e()])],2):t._e(),"selects"!==e.type||e.hasOwnProperty("datasource_key")?t._e():a("v-autocomplete",{class:e["class_component"],attrs:{items:e.datasource,"item-text":e.itemText,"item-value":e.itemValue,box:"",rules:t.processRules(e.rules),"no-data-text":"Không tìm thấy dữ liệu "+e["label"],chips:e["chips"],multiple:e["multiple"],clearable:""},on:{change:function(a){t.processChangeDataSource(a,e)}},model:{value:t.data[e.model],callback:function(a){t.$set(t.data,e.model,a)},expression:"data[item.model]"}},[a("template",{slot:"label"},[t._v(t._s(e["label"])+" "),e.required?a("span",{staticClass:"red--text darken-3"},[t._v("*")]):t._e()])],2),"text-fields"===e.type?a("v-text-field",{class:e["class_component"],staticStyle:{"pointer-events":"none"},attrs:{value:e["valueFormData"]?t.dataForm[e.model]:t.data[e.model],rules:t.processRules(e.rules),placeholder:e["placeholder"],box:""}},[a("template",{slot:"label"},[t._v(t._s(e["label"])+" "),e.required?a("span",{staticClass:"red--text darken-3"},[t._v("*")]):t._e()])],2):t._e(),"textarea"===e.type?a("v-textarea",{class:e["class_component"],staticStyle:{"pointer-events":"none"},attrs:{value:e["valueFormData"]?t.dataForm[e.model]:t.data[e.model],rules:t.processRules(e.rules),placeholder:e["placeholder"],box:"",rows:e["rows"]?e["rows"]:5}},[a("template",{slot:"label"},[t._v(t._s(e["label"])+" "),e.required?a("span",{staticClass:"red--text darken-3"},[t._v("*")]):t._e()])],2):t._e(),"codemirror"===e.type?a("v-subheader",{staticClass:"px-0"},[t._v(t._s(e["label"]))]):t._e(),"codemirror"===e.type?a("codemirror",{attrs:{options:t.cmOptions},model:{value:t.data[e.model],callback:function(a){t.$set(t.data,e.model,a)},expression:"data[item.model]"}}):t._e(),"v-switch"===e.type?a("v-switch",{class:e["class_component"],attrs:{label:e["label"]},model:{value:t.data[e.model],callback:function(a){t.$set(t.data,e.model,a)},expression:"data[item.model]"}}):t._e(),t._l(e["alongside"],function(i,n){return e.hasOwnProperty("alongside")?a("div",{key:n},["avatar"===i.type?a("attached-file-avatar",{class:i["class_component"],attrs:{pk:t.data[i.model],"pick-item":i}}):t._e(),"date"===i.type?a("datetime-picker",{class:i["class_component"],attrs:{item:i,"data-value":t.data[i.model]},model:{value:t.data[i.model],callback:function(e){t.$set(t.data,i.model,e)},expression:"data[itemChild.model]"}}):t._e(),"button"===i.type&&i["link"]&&(i.dependency&&"0"!==String(t.id)||!i.dependency)?a("v-btn",{class:i["class_component"],attrs:{color:"blue darken-3",dark:"",to:i.url+"?pk="+t.data[i.pk]+"&col="+i.pk}},["link"===i["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[t._v("how_to_vote")]):t._e(),"popup"===i["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[t._v("flip_to_back")]):t._e(),t._v("\n            "+t._s(i.label)+"\n          ")],1):t._e(),"button"===i.type&&i["account"]&&(i.dependency&&"0"!==String(t.id)||!i.dependency)?a("v-btn",{class:i["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(e){t.showAccount(i)}}},["link"===i["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[t._v("how_to_vote")]):t._e(),"popup"===i["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[t._v("flip_to_back")]):t._e(),t._v("\n            "+t._s(i.label)+"\n          ")],1):t._e(),"button"===i.type&&i["attached"]&&(i.dependency&&"0"!==String(t.id)||!i.dependency)?a("v-btn",{class:i["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(e){t.showAttached(i)}}},["link"===i["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[t._v("how_to_vote")]):t._e(),"popup"===i["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[t._v("flip_to_back")]):t._e(),t._v("\n            "+t._s(i.label)+"\n          ")],1):t._e(),"selects"===i.type&&!t.pullOk&&i.hasOwnProperty("datasource_key")?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),"selects"===i.type&&t.pullOk&&i.hasOwnProperty("datasource_key")?a("v-autocomplete",{class:i["class_component"],attrs:{items:t.dataSocket[i["datasource_key"]],"item-text":i.itemText,"item-value":i.itemValue,box:"",label:i.required?i["label"]+" *":i["label"],rules:t.processRules(i.rules),"no-data-text":"Không tìm thấy dữ liệu "+i["label"],chips:e["chips"],multiple:e["multiple"],clearable:""},on:{change:function(e){t.processChangeDataSource(e,i)}},model:{value:t.data[i.model],callback:function(e){t.$set(t.data,i.model,e)},expression:"data[itemChild.model]"}}):t._e(),"selects"!==i.type||i.hasOwnProperty("datasource_key")?t._e():a("v-autocomplete",{class:i["class_component"],attrs:{items:i.datasource,"item-text":i.itemText,"item-value":i.itemValue,box:"",label:i.required?i["label"]+" *":i["label"],rules:t.processRules(i.rules),"no-data-text":"Không tìm thấy dữ liệu "+i["label"],chips:e["chips"],multiple:e["multiple"],clearable:""},on:{change:function(e){t.processChangeDataSource(e,i)}},model:{value:t.data[i.model],callback:function(e){t.$set(t.data,i.model,e)},expression:"data[itemChild.model]"}}),"text-fields"===i.type?a("v-text-field",{class:i["class_component"],attrs:{label:i.required?i["label"]+" *":i["label"],rules:t.processRules(i.rules),placeholder:i["placeholder"],box:""},model:{value:t.data[i.model],callback:function(e){t.$set(t.data,i.model,e)},expression:"data[itemChild.model]"}}):t._e(),"textarea"===i.type?a("v-textarea",{class:i["class_component"],attrs:{label:i.required?i["label"]+" *":i["label"],rules:t.processRules(i.rules),placeholder:i["placeholder"],box:"",clearable:""},model:{value:t.data[i.model],callback:function(e){t.$set(t.data,i.model,e)},expression:"data[itemChild.model]"}}):t._e(),"codemirror"===i.type?a("v-subheader",{staticClass:"px-0"},[t._v(t._s(i["label"]))]):t._e(),"codemirror"===i.type?a("codemirror",{attrs:{options:t.cmOptions},model:{value:t.data[i.model],callback:function(e){t.$set(t.data,i.model,e)},expression:"data[itemChild.model]"}}):t._e(),"v-switch"===i.type?a("v-switch",{class:i["class_component"],attrs:{label:i["label"]},model:{value:t.data[i.model],callback:function(e){t.$set(t.data,i.model,e)},expression:"data[itemChild.model]"}}):t._e()],1):t._e()})],2):t._e()],1)}),1):t._e()],1)},f=[],h=a("0b6e"),g=h["a"],b=a("c6a6"),y=a("8336"),D=a("2b5d"),x=a("132d"),C=a("e0c7"),w=a("b73d"),k=a("2677"),P=a("a844"),E=Object(s["a"])(g,m,f,!1,null,null,null);E.options.__file="BbatTableEditorComponentSimple.vue";var T=E.exports;c()(E,{VAutocomplete:b["a"],VBtn:y["a"],VCombobox:D["a"],VFlex:d["a"],VForm:u["a"],VIcon:x["a"],VLayout:p["a"],VSubheader:C["a"],VSwitch:w["a"],VTextField:k["a"],VTextarea:P["a"]});var O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{"text-align":"left",position:"absolute","line-height":"46px"}},[t._v("Tổng số "),a("span",{staticClass:"text-bold primary--text"},[t._v(t._s(t.total))]),t._v(". ")]),t.total>0?a("div",{staticClass:"vue-tiny-pagination pagination layout",staticStyle:{"justify-content":"flex-end","-webkit-justify-content":"flex-end"}},[a("div",{staticClass:"px-3 xs2 flex"},[a("v-autocomplete",{attrs:{items:t.totalPagesData,"item-text":"text","item-value":"value",autocomplete:""},on:{input:t.goToPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),a("ul",{staticClass:"tiny-pagination",class:t.customClass},[a("li",{staticClass:"page-item",class:t.classFirstPage},[a("button",{staticClass:"pagination__navigation",class:t.classFirstPage,on:{click:function(e){return e.preventDefault(),t.lastPageLast(e)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("first_page")])])]),a("li",{staticClass:"page-item",class:t.classFirstPage},[a("button",{staticClass:"pagination__navigation",class:t.classFirstPage,staticStyle:{"border-left":"0"},on:{click:function(e){return e.preventDefault(),t.lastPage(e)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("chevron_left")])])]),a("li",{staticClass:"page-item",class:t.classLastPage,staticStyle:{"margin-right":"0"}},[a("button",{staticClass:"pagination__navigation",class:t.classLastPage,staticStyle:{"border-left":"0"},on:{click:function(e){return e.preventDefault(),t.nextPage(e)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("chevron_right")])])]),a("li",{staticClass:"page-item",class:t.classLastPage},[a("button",{staticClass:"pagination__navigation",class:t.classLastPage,on:{click:function(e){return e.preventDefault(),t.nextPageLast(e)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("last_page")])])])])]):t._e()])},S=[],I="TinyPagination",F={name:I,props:{total:{type:Number,required:!0},page:{type:Number,default:1},lang:{type:String,default:"en"},customClass:{type:String},limits:{type:Array,default:function(){return[10,15,20,50,100]}},showLimit:{type:Boolean,default:!0}},data:function(){return{version:"0.2.1",currentPage:1,currentLimit:15,translations:{en:{prev:"Previous",title:"Page",next:"Next"}},availableLanguages:["en"]}},created:function(){this.currentPage=this.page},watch:{page:function(t){this.currentPage=parseInt(t)}},computed:{translation:function(){return this.availableLanguages.includes(this.lang)?this.translations[this.lang]:this.translations["en"]},totalPages:function(){return Math.ceil(this.total/this.currentLimit)},totalPagesData:function(){for(var t=[],e={},a=1;a<=this.totalPages;++a)e={value:a,text:"Trang "+a},t.push(e);return t},titlePage:function(){return"".concat(this.currentPage)},classFirstPage:function(){return{"c-not-allowed pagination__navigation--disabled":1===this.currentPage}},classLastPage:function(){return{"c-not-allowed pagination__navigation--disabled":this.currentPage===this.totalPages}}},methods:{nextPage:function(){this.currentPage!==this.totalPages&&(this.currentPage+=1,this.$emit("tiny:change-page",{page:this.currentPage}))},lastPage:function(){this.currentPage>1&&(this.currentPage-=1,this.$emit("tiny:change-page",{page:this.currentPage}))},nextPageLast:function(){this.currentPage=this.totalPages,this.$emit("tiny:change-page",{page:this.totalPages})},lastPageLast:function(){this.currentPage=1,this.$emit("tiny:change-page",{page:1})},goToPage:function(){this.$emit("tiny:change-page",{page:this.currentPage})},onLimitChange:function(){this.currentPage=1}}},L=F,A=Object(s["a"])(L,O,S,!1,null,null,null);A.options.__file="TinyPagination.vue";var M=A.exports;c()(A,{VAutocomplete:b["a"]});a("fa98");var B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"pdfViewerComponent",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})])},V=[],$={props:["id","datainput"],data:function(){return{data:{},dialogPDFLoading:!0,isCallBack:!0,pdfBlob:null}},created:function(){var t=this;t.$nextTick(function(){setTimeout(function(){t.data=t.datainput,t.pullPDF(t.data["fileEntryId"])},100)})},methods:{pullPDF:function(t){var e=this;e.dialogPDFLoading=!0,e.$store.dispatch("viewPDF",t).then(function(t){e.dialogPDFLoading=!1,document.getElementById("pdfViewerComponent").src=t})}}},U=$,R=Object(s["a"])(U,B,V,!1,null,null,null);R.options.__file="ViewPDF.vue";var N=R.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.logs,function(e,i){return a("div",{key:i,staticClass:"list_history_style"},[a("td",{staticClass:"px-2 pt-2 col-tien-trinh-2"},[t._v(t._s(i))]),a("td",{staticClass:"text-xs-left px-2 py-2"},[a("p",{staticClass:"mb-1"},[a("span",[t._v(t._s(e.actionDate))]),t._v(" - "),a("b",[t._v(t._s(e.author))]),t._v(" : "),a("span",{staticStyle:{color:"rgb(11, 114, 186)"}},[t._v(t._s(t.support["state_"+e.deliverableAction]))])])])])}),0)},W=[],q=a("bbd0"),j={props:["id","datainput"],data:function(){return{support:q.deliverableState,dialogPDFLoading:!0,isCallBack:!0,pdfBlob:null,logs:[]}},created:function(){var t=this;t.$nextTick(function(){setTimeout(function(){t.pullLogs()},100)})},methods:{pullLogs:function(){var t=this;t.$store.dispatch("viewLogs",t.id).then(function(e){t.logs=e})}}},z=j,G=Object(s["a"])(z,K,W,!1,null,null,null);G.options.__file="ViewLogs.vue";var H=G.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticClass:"mb-5",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"control-section uploader customdroparea",attrs:{xs12:"",sm5:""}},[a("div",{staticClass:"control_wrapper px-3 mx-1 py-3"},[a("div",{staticClass:"sample_wrapper tai_giay_to"},[a("div",{attrs:{id:"dropArea"}},[a("span",{staticClass:"droparea",attrs:{id:"drop"}},[t._v(" Tải giấy phép, "),a("a",{attrs:{href:"javascript:;",id:"browse"}},[t._v("Chọn từ máy tính   📤")])]),t.tempShow?a("ejs-uploader",{ref:"uploadObj",attrs:{autoUpload:t.auto,id:"templateupload",name:"UploadFiles",allowedExtensions:t.extensions,asyncSettings:t.path,dropArea:t.dropArea,success:t.onSuccess,removing:t.onFileRemove,uploading:t.addHeaders}}):t._e()],1)])])]),t.fileTemplateTotal>0?a("v-flex",{staticClass:"tai_giay_to",attrs:{xs12:"",sm7:""}},[a("div",{staticClass:"mt-3 mb-1 mx-3 text-center text-bold"},[t._v("Giấy tờ đã tải lên")]),a("div",{staticClass:"e-upload-done-list"},[a("ul",{staticClass:"e-upload-files"},[a("li",{staticClass:"e-upload-file-list"},[a("div",{staticClass:"container pt-2",staticStyle:{position:"relative","min-height":"75px"}},t._l(t.fileTemplateData,function(e,i){return a("v-layout",{key:i,staticClass:"pl-2 py-1 mb-1",staticStyle:{background:"#f3f3f3"},attrs:{wrap:""}},[a("span",{class:["icon sf-icon-"+e["extension"]]}),a("v-flex",{staticStyle:{width:"calc(100% - 100px)"}},[a("div",{staticClass:"name file-name"},[a("span",[t._v(t._s(e["fileName"]))]),a("p",{staticStyle:{"margin-top":"5px","font-size":"10px","margin-bottom":"0"}},[t._v("\n                    ( "+t._s((e["size"]/1048576).toFixed(2))+" MB )\n                  ")])])]),a("v-flex",{staticStyle:{width:"90px"}},[a("v-btn",{attrs:{flat:"",icon:"",color:"primary",title:"Tải xuống",loading:t.loading,disabled:t.loading},nativeOn:{click:function(a){t.processDownloadFileAttach(e)}}},[a("v-icon",{attrs:{size:"14"}},[t._v("save_alt")])],1),a("v-btn",{staticClass:"mx-0",attrs:{flat:"",icon:"",color:"red darken-3",title:"Xóa",loading:t.loadingRemove,disabled:t.loadingRemove},nativeOn:{click:function(a){t.processDeleteFileAttach(e)}}},[a("v-icon",{attrs:{size:"14"}},[t._v("delete")])],1)],1)],1)}),1)])])])]):t._e()],1)},J=[],X=a("a026"),Q=a("e0e8"),Z=a("7de8");X["a"].use(Q["a"]);var tt={data:function(){return{tempShow:!0,loadingRemove:!1,loading:!1,fileTemplateData:[],fileTemplateTotal:0,pathHidden:{saveUrl:"",removeUrl:""},path:{saveUrl:"",removeUrl:""},extensions:".pdf",dropArea:"dropArea",rawData:[],className:""}},props:["pk","auto"],created:function(){var t=this;t.$nextTick(function(){t.loadFileTemplate()})},mounted:function(){var t=this;this.path={saveUrl:"/o/v1/opencps/users/upload/opencps_deliverable/org.opencps.deliverable.model.OpenCPSDeliverableFileEntryId/"+this.pk,removeUrl:"/"+this.pk},this.className="org.opencps.deliverable.model.OpenCPSDeliverableFileEntryId",document.getElementById("browse").onclick=function(){return document.getElementsByClassName("e-file-select-wrap")[0].querySelector("button").click(),!1},document.getElementById("dropArea").onclick=function(e){if(e.target.classList.contains("e-file-delete-btn"))for(var a=0;a<t.$refs.uploadObj.getFilesData().length;a++)e.target.closest("li").getAttribute("data-file-name")===t.$refs.uploadObj.getFilesData()[a].name&&t.$refs.uploadObj.remove(t.$refs.uploadObj.getFilesData()[a]);else e.target.classList.contains("e-file-remove-btn")&&Object(Z["s"])(e.target.closest("li"))}},methods:{doUploadLate:function(t){var e=this;if(e.$refs.uploadObj.getFilesData().length>0){e.path={saveUrl:"/o/v1/opencps/users/upload/opencps_deliverable/org.opencps.deliverable.model.OpenCPSDeliverableFileEntryId/"+t,removeUrl:"/"+t};var a={id:t};e.$store.dispatch("uploadSingleFile",a)}},addHeaders:function(t){var e=this;t.currentRequest.setRequestHeader("Token",e.getAuthToken()),t.currentRequest.setRequestHeader("groupId",e.getScopeGroupId())},loadFileTemplate:function(){var t=this,e={className:t.className,pk:t.pk};t.$store.dispatch("getAttachFileData",e).then(function(e){t.fileTemplateData=e.data,t.fileTemplateTotal=e.total;var a=document.getElementById("rightAttachedCounter");null!==a&&void 0!==a&&t.fileTemplateTotal>0&&(a.innerHTML="Tổng số: "+t.fileTemplateTotal+" ")}).catch(function(t){})},onSuccess:function(){var t=this;setTimeout(function(){document.getElementById("dropArea").querySelectorAll(".e-upload-success").forEach(function(t){return t.parentNode.removeChild(t)}),t.loadFileTemplate()},2e3)},onFileRemove:function(t){t.postRawFile=!1},processDeleteFileAttach:function(t){var e=this;t["className"]=e.className,confirm("Bạn có chắc muốn xoá bản ghi này?")&&(e.loadingRemove=!0,e.$store.dispatch("removeServiceFileTemplate",t).then(function(){e.loadingRemove=!1,e.loadFileTemplate()}).catch(function(t){e.loadingRemove=!1,alert("Xoá file xảy ra lỗi."+t)}))},processDownloadFileAttach:function(t){var e=this;e.loading=!0,t["className"]=e.className,e.$store.dispatch("downloadServiceFileTemplate",t).then(function(){e.loading=!1}).catch(function(t){e.loading=!1,alert("Tải file xảy ra lỗi."+t)})}}},et=tt,at=Object(s["a"])(et,Y,J,!1,null,null,null);at.options.__file="AttachedFileTemplate.vue";var it=at.exports;c()(at,{VBtn:y["a"],VFlex:d["a"],VIcon:x["a"],VLayout:p["a"]}),a.d(e,"b",function(){return v}),a.d(e,"c",function(){return T}),a.d(e,"d",function(){return M}),a.d(e,"f",function(){return N}),a.d(e,"e",function(){return H}),a.d(e,"a",function(){return it})},"34e8":function(t,e,a){"use strict";var i="\n    {\n        getDeliverableLogs(fk: INPUTBODY,start: -1, end: -1) {\n            actionDate\n            author\n            deliverableAction\n        }\n    }\n";e["a"]={getDeliverableLogs:i}},"3c87":function(t,e,a){"use strict";var i='\n    {\n        getAdminConfig(code: "opencps_deliverable") {\n            detailColumns\n        }\n    }\n';e["a"]={getAdminConfig:i}},4360:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return store});var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026"),vuex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2f62"),toastr__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_2__),axios__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__),_support_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("bbd0"),_support_json__WEBPACK_IMPORTED_MODULE_4___namespace=__webpack_require__.t("bbd0",1),_AdminConfig__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("3c87"),jquery__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_6__),file_saver__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("21a6"),file_saver__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_7__),_DeliverableTypes__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("beb1"),_Deliverable__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("eaa6"),_DeliverableLogs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("34e8");vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(toastr__WEBPACK_IMPORTED_MODULE_2___default.a),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vuex__WEBPACK_IMPORTED_MODULE_1__["a"]);var store=new vuex__WEBPACK_IMPORTED_MODULE_1__["a"].Store({state:{userPermission:!1,groupId:void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0,snackbarerror:!1,snackbarsocket:!1,refreshSocket:0,initData:{},dataSocket:{},pullCounter:0,tocken:"",loginUser:[{email:"",role:""}],user:{role:""},socket:{isConnected:!1,message:"",reconnectError:!1},isConnected:!1,endPointApi:"/o/rest/v2",getDeliverableTypes:[],getContentFile:"",getContentFileSimple:[],changeFormData:"",activeBindFormData:!1},actions:{loadInitResource:function(t){var e=t.commit,a=t.state;return new Promise(function(t){null!==window.themeDisplay&&void 0!==window.themeDisplay?(a.initData["groupId"]=window.themeDisplay.getScopeGroupId(),a.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(a.initData["groupId"]=0,a.initData["user"]={userName:"",userEmail:"",userId:20103}),""===a["user"].role?store.dispatch("getRoleUser").then(function(i){a["user"].role=i,e("setInitData",a.initData),t(a.initData)}).catch(function(i){a["user"].role=["default"],e("setInitData",a.initData),t(a.initData)}):(e("setInitData",a.initData),t(a.initData))})},downloadServiceFileTemplate:function(t,e){var a=t.commit,i=t.state;return new Promise(function(t,n){store.dispatch("loadInitResource").then(function(){var o={headers:{groupId:i.initData.groupId,"Content-Type":"application/octet-stream"},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/v1/opencps/users/upload/download/opencps_deliverable/"+e["className"]+"/"+e["fileAttachId"],o).then(function(a){file_saver__WEBPACK_IMPORTED_MODULE_7___default()(a.data,e["uuid"]+"."+e["extension"]),t({status:!0})}).catch(function(t){n(t),a("setsnackbarerror",!0)})})})},removeServiceFileTemplate:function(t,e){var a=t.commit,i=t.state;return new Promise(function(t,n){store.dispatch("loadInitResource").then(function(){var o={headers:{groupId:i.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete("/o/v1/opencps/users/upload/delete/opencps_deliverable/"+e["className"]+"/"+e["classPK"],o).then(function(){t({status:!0})}).catch(function(t){n(t),a("setsnackbarerror",!0)})})})},getAttachFileData:function(t,e){var a=t.commit,i=t.state;return new Promise(function(t,n){store.dispatch("loadInitResource").then(function(){var o={headers:{groupId:i.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/v1/opencps/fileattach/"+e["className"]+"/"+e["pk"],o).then(function(e){var a=e.data;a.data&&t(a)}).catch(function(t){n(t),a("setsnackbarerror",!0)})})})},viewPDF:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(n){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/v1/opencps/deliverable/file/"+e,o).then(function(e){var a=e.data;t(a)}).catch(function(t){i(t)})})})},viewLogs:function(t,e){var a=t.commit,i=t.state;return new Promise(function(t,n){store.dispatch("loadInitResource").then(function(o){var r={headers:{groupId:i.groupId,"Content-Type":"text/plain",Accept:"application/json"}},s=_DeliverableLogs__WEBPACK_IMPORTED_MODULE_10__["a"].getDeliverableLogs.replace("INPUTBODY",e);axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/v1/opencps/deliverable",s,r).then(function(e){t(e.data["getDeliverableLogs"])}).catch(function(t){n(t),a("setsnackbarerror",!0)})})})},getDeliverableTypes:function(t){var e=t.commit,a=t.state;return new Promise(function(t,i){var n={headers:{groupId:a.groupId,"Content-Type":"text/plain",Accept:"application/json"}},o=_DeliverableTypes__WEBPACK_IMPORTED_MODULE_8__["a"].getDeliverableTypes;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/v1/opencps/deliverable",o,n).then(function(e){a.getDeliverableTypes=e.data["getDeliverableTypes"],t(e.data["getDeliverableTypes"])}).catch(function(){a.getDeliverableTypes=[],e("setsnackbarerror",!0),i(a.getDeliverableTypes)})})},getContentFile:function getContentFile(_ref8,fileEntryId){var commit=_ref8.commit,state=_ref8.state;return new Promise(function(resolve,reject){var options={headers:{groupId:state.groupId,Accept:"text/plain"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/v1/opencps/fileattach/"+fileEntryId+"/text",options).then(function(response){try{state.getContentFile=eval("( "+response.data+" )"),resolve(state.getContentFile)}catch(error){resolve(response.data)}}).catch(function(){state.getContentFile="",reject(state.getContentFile)})})},getContentFileSimple:function getContentFileSimple(_ref9){var commit=_ref9.commit,state=_ref9.state;return new Promise(function(resolve,reject){var options={headers:{groupId:state.groupId,"Content-Type":"text/plain",Accept:"application/json"}},body=_AdminConfig__WEBPACK_IMPORTED_MODULE_5__["a"].getAdminConfig;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/v1/opencps/adminconfig",body,options).then(function(response){state.getContentFileSimple=eval("( "+response.data["getAdminConfig"]["detailColumns"]+" )"),resolve(state.getContentFileSimple)}).catch(function(){state.getContentFileSimple=[],commit("setsnackbarerror",!0),reject(state.getContentFileSimple)})})},getDeliverables:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var n={headers:{groupId:a.groupId},params:{start:15*e.page-15,end:15*e.page}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/v1/opencps/deliverable/"+e["type"]+"?"+e["q"],n).then(function(e){t(e.data)}).catch(function(t){i(t)})})},searchDeliverables:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var n={headers:{groupId:a.groupId},params:{start:15*e.page-15,end:15*e.page}};"keyword"===e.typeSearch?(n.params.keyword=e.keyword,n.params.formDataKey=""):(n.params.keyword="",n.params.formDataKey=e.formDataKey),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/v1/opencps/deliverable/"+e["type"],n).then(function(e){t(e.data)}).catch(function(t){i(t)})})},getDeliverableById:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var n={headers:{groupId:a.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/v1/opencps/deliverable/"+e+"/detail",n).then(function(e){e.data?(e.data.govAgenciesItems=[],e.data.applicantIdNoItems=[],t(e.data)):t({})}).catch(function(t){i(t)})})},uploadSingleFile:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var n=window.$("#templateupload")[0].files,o=n[0],r=new FormData;r.append("UploadFiles",o),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/v1/opencps/users/upload/opencps_deliverable/org.opencps.deliverable.model.OpenCPSDeliverableFileEntryId/"+e["id"],r,{headers:{groupId:a.initData.groupId,"Content-Type":"multipart/form-data"}}).then(function(e){t(e.data)}).catch(function(t){i(t)})})},createDeliverable:function(t,e){var a=t.commit,i=t.state;return new Promise(function(t,n){var o={headers:{groupId:i.groupId,"Content-Type":"text/plain",Accept:"application/json"}},r=_Deliverable__WEBPACK_IMPORTED_MODULE_9__["a"].createDeliverable.replace("INPUTBODY",JSON.stringify(e).replace(/"/g,'\\"'));axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/v1/opencps/deliverable",r,o).then(function(e){t(e.data)}).catch(function(t){a("setsnackbarerror",!0),n(t)})})},putFormData:function(t,e){t.commit,t.state;return new Promise(function(t,a){var i={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():""}},n=new URLSearchParams;n.append("formdata",JSON.stringify(e["formData"])),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put("/o/rest/v2/deliverables/"+e["deliverableId"]+"/formdata",n,i).then(function(e){t(e)}).catch(function(t){a(t)})})},getRoleUser:function(t,e){t.commit,t.state;return new Promise(function(t,e){var a={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():""}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/users/login",a).then(function(e){var a=e.data;if(a&&a.length>0){var i=[];for(var n in a)a[n]["role"]&&i.push(a[n]["role"]);t(i)}else t(["default"])}).catch(function(t){e("default")})})}},mutations:{SOCKET_ONOPEN:function(t,e){vue__WEBPACK_IMPORTED_MODULE_0__["a"].prototype.$socket=e.currentTarget,t.socket.isConnected=!0},SOCKET_ONCLOSE:function(t,e){t.socket.isConnected=!1,t.isConnected=!1},SOCKET_ONERROR:function(t,e){},SOCKET_ONMESSAGE:function(t,e){t.socket.message=e},SOCKET_RECONNECT:function(t,e){t.isConnected=!0},SOCKET_RECONNECT_ERROR:function(t){t.socket.reconnectError=!0},setInitData:function(t,e){t.initData=e},setUserPermission:function(t,e){t.userPermission=e},setsnackbarerror:function(t,e){t.snackbarerror=e},setsnackbarsocket:function(t,e){t.snackbarsocket=e},setpullCounter:function(t,e){t.pullCounter=e},setdataSocket:function(t,e){t.dataSocket=e},setisConnected:function(t,e){t.isConnected=e},setChangeFormData:function(t,e){t.changeFormData=e},setActiveBindFormData:function(t,e){t.activeBindFormData=e}},getters:{getUser:function(t){return t.user},getUserPermission:function(t){return t.userPermission},getsnackbarerror:function(t){return t.snackbarerror},getsnackbarsocket:function(t){return t.snackbarsocket},getDeliverableTypes:function(t){return t.getDeliverableTypes},getContentFile:function(t){return t.getContentFile},getContentFileSimple:function(t){return t.getContentFileSimple},pullCounter:function(t){return t.pullCounter},dataSocket:function(t){return t.dataSocket},getisConnected:function(t){return t.isConnected},getChangeFormData:function(t){return t.changeFormData},getActiveBindFormData:function(t){return t.activeBindFormData}}})},5200:function(module,__webpack_exports__,__webpack_require__){"use strict";var _components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2af9"),_template_rendering_vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("1f98"),_ext_DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("fa98"),axios__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__),toastr__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_4__);function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var a=[],i=!0,n=!1,o=void 0;try{for(var r,s=t[Symbol.iterator]();!(i=(r=s.next()).done);i=!0)if(a.push(r.value),e&&a.length===e)break}catch(l){n=!0,o=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(n)throw o}}return a}function _arrayWithHoles(t){if(Array.isArray(t))return t}__webpack_exports__["a"]={props:["index"],components:{TinyPagination:_components__WEBPACK_IMPORTED_MODULE_0__["d"],TemplateRendering:_template_rendering_vue__WEBPACK_IMPORTED_MODULE_1__["a"],DatetimePicker:_ext_DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_2__["a"]},data:function(){return{menuDate:!1,issueDatePiecker:"",filterData:{},menusss:!1,loadingTable:!1,dialogPDFLoading:!1,loadingImport:!1,dialogPDFList:!1,dialogMortgage:!1,mortGageInput:"",headers:[],hideAction:!1,hosoDatas:[],hosoDatasTotal:0,hosoDatasPage:1,dataSocket:{},filters:[],advSearchItems:[],deliverableKey:"",pageAttachs:1,viewAttach:!1,fileEntryIdAttachs:[],deliverableSelected:"",indexDeliverableSelected:"",deliverableCode:"",issueDate:null,applicantName:"",donvicu_data:"",trichyeu_data:"",loaiDuLieu:""}},created:function created(){var vm=this;vm.$nextTick(function(){vm.$store.dispatch("getDeliverableTypes").then(function(result){setTimeout(function(){if(""!==vm.items[vm.index]["dataConfig"]&&(vm.filters=eval("( "+vm.items[vm.index]["dataConfig"]+" )")),""!==vm.items[vm.index]["tableConfig"]){vm.headers=eval("( "+vm.items[vm.index]["tableConfig"]+" )")["headers"];var tableConfig=eval("( "+vm.items[vm.index]["tableConfig"]+" )");tableConfig.hasOwnProperty("loaiDuLieu")&&tableConfig.loaiDuLieu?vm.loaiDuLieu=tableConfig.loaiDuLieu:vm.loaiDuLieu="giấy phép"}else vm.headers=[],vm.hosoDatas=[],vm.hosoDatasTotal=0,vm.hosoDatasPage=1,vm.loadingTable=!0,setTimeout(function(){vm.loadingTable=!1},100);vm.pullData(vm.items[vm.index]["typeCode"]),vm.items.length>0&&vm.$store.commit("setUserPermission",vm.items[vm.index]["moderator"])},100)})})},watch:{$route:function(t,e){var a=this,i=t.query;i.hasOwnProperty("keyword")&&(a.deliverableKey=i["keyword"]),i.hasOwnProperty("page")?a.hosoDatasPage=parseInt(i.page):a.hosoDatasPage=1,a.deliverableKey="",a.applicantName="",a.issueDate="",a.donvicu="",a.trichyeu="",a.deliverableCode="",a.filterDeliverable("keyword")},index:function index(val){var vm=this;if(vm.items.length>0&&vm.$store.commit("setUserPermission",vm.items[val]["moderator"]),""!==vm.items[val]["dataConfig"]?vm.filters=eval("( "+vm.items[val]["dataConfig"]+" )"):vm.filters=[],""!==vm.items[val]["tableConfig"]){vm.hosoDatasPage=1,vm.headers=eval("( "+vm.items[val]["tableConfig"]+" )")["headers"];var tableConfig=eval("( "+vm.items[val]["tableConfig"]+" )");tableConfig.hasOwnProperty("loaiDuLieu")&&tableConfig.loaiDuLieu?vm.loaiDuLieu=tableConfig.loaiDuLieu:vm.loaiDuLieu="giấy phép"}else vm.headers=[],vm.hosoDatas=[],vm.hosoDatasTotal=0,vm.hosoDatasPage=1,vm.loadingTable=!0,setTimeout(function(){vm.loadingTable=!1},100)},items:function(){var t=this;t.items.length>0&&t.$store.commit("setUserPermission",t.items[t.index]["moderator"])},advSearchItems:{handler:function(t,e){var a=this,i=a.$router.history.current,n=i.query,o=(i.path,"?");for(var r in n["renew"]="",a.filters)n[a.filters[r]["fieldName"]]="";for(var s in n)""!==n[s]&&"undefined"!==n[s]&&void 0!==n[s]&&(o+=s+"="+n[s]+"&");for(var l in t)t[l]["text"].endsWith(":__")||(o+=t[l]["spec"]+"="+t[l]["value"]+"&");o+="renew="+Math.floor(100*Math.random())+1,a.$router.push({path:"/danh-sach-giay-to/"+a.index+o})},deep:!0}},computed:{items:function(){return this.$store.getters.getDeliverableTypes},userPermission:function(){return this.$store.getters.getUserPermission}},methods:{pullData:function(t){var e=this,a=e.$router.history.current.query,i="";for(var n in a)""!==a[n]&&"undefined"!==a[n]&&void 0!==a[n]&&(i+=n+"="+a[n]+"&");i+="1=1";var o={type:t,page:e.hosoDatasPage,q:i};e.loadingTable=!0,e.$store.dispatch("getDeliverables",o).then(function(t){e.hosoDatasTotal=t["total"],e.hosoDatas=t["data"],e.loadingTable=!1}).catch(function(t){e.loadingTable=!1}),setTimeout(function(){if(null!==e.advSearchItems&&0===e.advSearchItems.length)for(var t in e.filters)a.hasOwnProperty(e.filters[t]["fieldName"])&&(e.filters[t].display=!0,e.filters[t].disabled=!0,e.advSearchItems.push({spec:e.filters[t].fieldName,value:a[e.filters[t]["fieldName"]],text:e.filters[t].fieldName+":"+a[e.filters[t]["fieldName"]],index:e.filters[t].index}))},200)},viewDetail:function(t,e){var a=this,i=a.$router.history.current,n=i.query,o="?";for(var r in n)""!==n[r]&&"undefined"!==n[r]&&void 0!==n[r]&&(o+=r+"="+n[r]+"&");a.$router.push({path:"/danh-sach-giay-to/"+a.index+"/editor/"+t["entryClassPK"]+o})},editDeliverables:function(t,e){var a=this,i=a.$router.history.current,n=i.query,o="?";for(var r in n)""!==n[r]&&"undefined"!==n[r]&&void 0!==n[r]&&(o+=r+"="+n[r]+"&");a.$router.push({path:"/danh-sach-giay-to/"+a.index+"/editor/"+t["entryClassPK"]+o+"editForm=true"})},showPDFG:function(t){var e=this;e.viewAttach=!1,e.dialogPDFList=!0,e.dialogPDFLoading=!0,e.$store.dispatch("viewPDF",t["fileEntryId"]).then(function(t){e.dialogPDFLoading=!1,document.getElementById("pdfViewerListComponent").src=t})},viewFileAttach:function(t){var e=this;e.viewAttach=!0,e.fileEntryIdAttachs=String(t["fileAttachs"]).split(","),e.loading=!0,e.dialogPDFLoading=!0,e.$store.dispatch("viewPDF",e.fileEntryIdAttachs[0]).then(function(t){e.loading=!1,e.dialogPDFLoading=!1,e.dialogPDFList=!0,document.getElementById("pdfViewerListComponent").src=t}).catch(function(){e.loading=!1,e.dialogPDFLoading=!1})},showMortgage:function(t,e){var a=this;a.deliverableSelected=t,a.indexDeliverableSelected=e,a.mortGageInput=t["mortgageInfo_data"]?t["mortgageInfo_data"]:"",a.dialogMortgage=!0},changeMortgageInfo:function(){var t,e=this;try{t=JSON.parse(e.deliverableSelected["formData"]),t.mortgageInfo=e.mortGageInput}catch(i){t={mortgageInfo:e.mortGageInput}}var a={deliverableId:e.deliverableSelected["deliverableId"],formData:t};e.loading=!0,e.$store.dispatch("putFormData",a).then(function(t){toastr__WEBPACK_IMPORTED_MODULE_4___default.a.success("Cập nhật thành công"),e.hosoDatas[e.indexDeliverableSelected]["mortgageInfo_data"]=e.mortGageInput,e.loading=!1,e.dialogMortgage=!1}).catch(function(){e.loading=!1,toastr__WEBPACK_IMPORTED_MODULE_4___default.a.error("Cập nhật thất bại")})},changePage:function(t){var e=this,a=Number(t)-1;e.dialogPDFLoading=!0,e.$store.dispatch("viewPDF",e.fileEntryIdAttachs[a]).then(function(t){e.dialogPDFLoading=!1,document.getElementById("pdfViewerListComponent").src=t}).catch(function(){e.dialogPDFLoading=!1})},paggingData:function(t){var e=this,a=e.$router.history.current,i=a.query,n="?";for(var o in i["page"]="",i["keyword"]="",i)""!==i[o]&&"undefined"!==i[o]&&void 0!==i[o]&&(n+=o+"="+i[o]+"&");n+="page="+t.page+"&keyword="+e.deliverableKey,e.$router.push({path:a.path+n})},selectedAdvFilter:function(t){var e=this;e.filters[t.index].display=!0,e.filters[t.index].disabled=!0;var a=!1;for(var i in e.advSearchItems)if(e.advSearchItems[i].index===t.index){a=!0;break}a||e.advSearchItems.push({spec:e.filters[t.index].fieldName,value:"__",text:e.filters[t.index].fieldName+":__",index:t.index})},keywordEventChange:function(t){var e=this;for(var a in e.filters)for(var i in e.filters[a].display=!1,e.filters[a].disabled=!1,t)if(t[i]["index"]===e.filters[a]["index"]){e.filters[a].display=!0,e.filters[a].disabled=!0;break}},changeAdvFilterData:function(t,e){var a=this,i=t;for(var n in a.advSearchItems)if(a.advSearchItems[n].index===e.index){a.advSearchItems[n].spec=e.fieldName,a.advSearchItems[n].value=i,a.advSearchItems[n].text=e.fieldName+":"+i;break}},searchDeliverable:function(){var t=this;setTimeout(function(){var e=t.$router.history.current,a=e.query,i="?";for(var n in a["page"]=1,a["keyword"]=t.deliverableKey,a)""!==a[n]&&"undefined"!==a[n]&&void 0!==a[n]&&null!==a[n]&&(i+=n+"="+a[n]+"&");t.$router.push({path:e.path+i,query:{renew:Math.floor(100*Math.random())+1}})},100)},filterDeliverable:function(t){var e=this,a=e.$router.history.current,i=a.query;!e.deliverableKey||e.applicantName||e.issueDate||e.donvicu_data||e.trichyeu_data||(t="keyword");var n={};for(var o in e.filterData)e.filterData[o]&&(n[o]=e.filterData[o]);var r={typeSearch:t||"",type:e.items[e.index]["typeCode"],page:i.hasOwnProperty("page")?i["page"]:1,keyword:i.hasOwnProperty("keyword")?i["keyword"]:e.deliverableKey,formDataKey:JSON.stringify(n)};e.loadingTable=!0,e.$store.dispatch("searchDeliverables",r).then(function(t){e.hosoDatasTotal=t.hasOwnProperty("total")?t["total"]:0,e.hosoDatas=t.hasOwnProperty("data")?t["data"]:[],e.loadingTable=!1}).catch(function(t){e.loadingTable=!1,e.hosoDatasTotal=0,e.hosoDatas=[]})},doImportData:function(){var t=this;t.$refs.importData.click()},onFilePicked:function(t){var e=this,a=t.target.files||t.dataTransfer.files;if(a&&a[0]){e.loadingImport=!0;var i=new FormData;i.append("file",a[0]),i.append("deliverableType",e.items[e.index]["typeCode"]),axios__WEBPACK_IMPORTED_MODULE_3___default()({method:"post",url:"/o/rest/v2/deliverables/import/files",data:i,config:{headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"","Content-Type":"multipart/form-data"}}}).then(function(t){setTimeout(function(){e.loadingImport=!1,toastr__WEBPACK_IMPORTED_MODULE_4___default.a.success("Import giấy phép thành công"),e.pullData(e.items[e.index]["typeCode"])},1e3)}).catch(function(t){e.loadingImport=!1})}},deleteDeliverable:function(t){var e=this,a={headers:{groupId:window.themeDisplay.getScopeGroupId()}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete("/o/rest/deliverables/"+t.deliverableId,a).then(function(){toastr__WEBPACK_IMPORTED_MODULE_4___default.a.success("Thực hiện thành công"),e.loadingTable=!0,e.$store.dispatch("getDeliverables",filter).then(function(t){e.hosoDatasTotal=t["total"],e.hosoDatas=t["data"],e.loadingTable=!1}).catch(function(t){e.loadingTable=!1})}).catch(function(t){toastr__WEBPACK_IMPORTED_MODULE_4___default.a.success("Thực hiện thất bại")})},getState:function(t){var e=(new Date).getTime(),a=Number(t["expireDate"]);if(a<e)return"Hết hiệu lực";var i=String(t["deliverableState"]);return"0"===i?"Không xác định":"1"===i?"Đang hiệu lực":"2"===i?"Gia hạn":"4"===i?"Xóa - Thu hồi":void 0},getUser:function(t){var e=this,a=e.$store.getters.getUser.role;if(!a)return!1;var i=a.findIndex(function(e){return String(e).indexOf(t)>=0});return i>=0},changeIssueDate:function(t){var e=this;e.menuDate=!1,e.issueDate=e.formatDate(e.issueDatePiecker),t&&(e.filterData[t]=e.formatDate(e.issueDatePiecker))},formatDate:function(t){if(!t)return null;var e=t.split("-"),a=_slicedToArray(e,3),i=a[0],n=a[1],o=a[2];return"".concat(o,"/").concat(n,"/").concat(i)},parseDate:function(t){if(!t)return null;var e=t.split("/"),a=_slicedToArray(e,3),i=a[0],n=a[1],o=a[2];return"".concat(o,"-").concat(n.padStart(2,"0"),"-").concat(i.padStart(2,"0"))},reloadPickerChange:function(t){},changeDate:function(t,e){this.filterData[e]=t}}}},"56d7":function(t,e,a){"use strict";a.r(e);a("0f18");var i=a("a026"),n=a("bb71");a("74ef");i["a"].use(n["a"],{theme:{primary:"#001f4d",secondary:"#424242",accent:"#001f4d",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},customProperties:!0,iconfont:"md"});var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app_deliverable"}},[a("v-navigation-drawer",{attrs:{app:"",clipped:"",floating:"",width:"240"}},[a("v-list",{attrs:{dense:""}},t._l(t.items,function(e,i){return a("v-list-tile",{key:i,attrs:{to:"/danh-sach-giay-to/"+i}},[a("v-list-tile-action",[String(i)===String(t.index)?a("v-icon",{attrs:{color:"blue darken-3"}},[t._v("play_arrow")]):a("v-icon",[t._v("description")])],1),a("v-list-tile-content",[a("v-list-tile-title",{attrs:{title:e.typeName}},[t._v(t._s(e.typeName))])],1)],1)}),1)],1),a("v-content",[a("router-view")],1),a("v-snackbar",{attrs:{bottom:!1,left:!1,"multi-line":!1,right:!0,timeout:2e3,top:!0,vertical:!1,color:"red darken-3"},model:{value:t.snackbarerror,callback:function(e){t.snackbarerror=e},expression:"snackbarerror"}},[t._v("\n    Yêu cầu thực hiện thất bại\n    "),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.closeError()}}},[a("v-icon",[t._v("clear")])],1)],1),a("v-snackbar",{attrs:{bottom:!0,left:!1,"multi-line":!0,right:!1,timeout:0,top:!0,vertical:!1,color:"red darken-3"},model:{value:t.snackbarsocket,callback:function(e){t.snackbarsocket=e},expression:"snackbarsocket"}},[a("v-progress-circular",{attrs:{size:20,width:1,color:"white",indeterminate:""}}),t._v("\n     \n    Mất kết nối, tự động kết nối lại trong giây lát ... \n    \n    "),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.reloadPage()}}},[a("v-icon",[t._v("replay")])],1)],1)],1)},r=[],s={props:["index"],data:function(){return{dialog:!1,drawer:null,dataSocket:{}}},created:function(){var t=this;t.$nextTick(function(){var e=t.$router.history.current.params;t.index=e["index"]})},computed:{items:function(){return this.$store.getters.getDeliverableTypes},snackbarerror:{get:function(){return this.$store.getters.getsnackbarerror},set:function(t){this.$store.commit("setsnackbarerror",t)}},snackbarsocket:{get:function(){return this.$store.getters.getsnackbarsocket},set:function(t){this.$store.commit("setsnackbarsocket",t)}}},watch:{$route:function(t,e){var a=this,i=(t.query,t.params);a.index=i["index"]}},methods:{redirectFilter:function(t){this.$router.push(t+"?state_change="+Math.floor(100*Math.random())+1)},closeError:function(){this.$store.commit("setsnackbarerror",!1)},reloadPage:function(){window.location.reload(!0)},deliverableRouter:function(t){}}},l=s,c=a("2877"),d=a("6544"),u=a.n(d),p=a("7496"),_=a("8336"),v=a("549c"),m=a("132d"),f=a("8860"),h=a("ba95"),g=a("40fe"),b=a("5d23"),y=a("f774"),D=a("490a"),x=a("2db4"),C=Object(c["a"])(l,o,r,!1,null,null,null);C.options.__file="App.vue";var w=C.exports;u()(C,{VApp:p["a"],VBtn:_["a"],VContent:v["a"],VIcon:m["a"],VList:f["a"],VListTile:h["a"],VListTileAction:g["a"],VListTileContent:b["a"],VListTileTitle:b["b"],VNavigationDrawer:y["a"],VProgressCircular:D["a"],VSnackbar:x["a"]});var k=a("8c4f"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("\n bbbbbb\n")])},E=[],T={data:function(){return{}}},O=T,S=Object(c["a"])(O,P,E,!1,null,null,null);S.options.__file="Landing.vue";var I=S.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("\n  uuuttttttttttt 12312 3123  1231\n  "),a("v-layout",{attrs:{wrap:""}},[a("div",t._l(t.dossierCounting,function(e,i){return a("v-chip",{key:i},["deleted"===e.key?a("v-avatar",[a("v-icon",{attrs:{size:"16"}},[t._v("delete")])],1):a("v-avatar",[t._v(t._s(e.count))]),t._v("\n        "+t._s(e.title)+"\n      ")],1)}),1)])],1)},L=[],A={props:["index"],data:function(){return{dossierCounting:[]}}},M=A,B=a("8212"),V=a("cc20"),$=a("a722"),U=Object(c["a"])(M,F,L,!1,null,null,null);U.options.__file="TiepNhanHoSoDetail.vue";var R=U.exports;u()(U,{VAvatar:B["a"],VChip:V["a"],VIcon:m["a"],VLayout:$["a"]});var N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("\n  9816313910231203\n")])},K=[],W={props:["index"],data:function(){return{}}},q=W,j=Object(c["a"])(q,N,K,!1,null,null,null);j.options.__file="HoanThienBoSungHoSoDetail.vue";var z=j.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("\n  13123\n")])},H=[],Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-chitiet"},[a("div",[a("v-tabs",{attrs:{"icons-and-text":""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:1,attrs:{href:"#tabs-1"},on:{click:function(e){t.getNextActions()}}},[a("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[3===t.originality?a("span",[t._v("XỬ LÝ HỒ SƠ")]):a("span",[t._v("CHUẨN BỊ HỒ SƠ")])])],1),a("v-tabs-items",{staticStyle:{overflow:"visible!important"},attrs:{"reverse-transition":"fade-transition",transition:"fade-transition"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("v-tab-item",{key:1,attrs:{value:"tabs-1","reverse-transition":"fade-transition",transition:"fade-transition"}},[0!==t.checkInput&&t.filterNextActionEnable(t.btnDossierDynamics)?a("div",{staticStyle:{position:"relative"}},[a("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0]}},[a("v-expansion-panel-content",{key:1,attrs:{"hide-actions":""}},[t._v("\n                123\n              ")])],1)],1):t._e(),t.btnStateVisible?a("div",{staticClass:"px-4 py-3",staticStyle:{"border-bottom":"1px solid #dddddd"}},[t._l(t.btnPlugins,function(e,i){return a("v-btn",{key:i,staticClass:"ml-0 mr-2",attrs:{color:"primary",loading:t.loadingPlugin,disabled:t.loadingPlugin},nativeOn:{click:function(a){t.processPullBtnplugin(e,i)}}},[t._v("\n              "+t._s(e.pluginName)+"\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])}),t.btnStepsDynamics.length>0&&t.thongTinChiTietHoSo["permission"].indexOf("write")>=0?a("v-menu",{staticStyle:{display:"inline-block",position:"relative !important"},attrs:{bottom:"","offset-y":""}},[a("v-btn",{staticClass:"deactive__btn",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Khác   "),a("v-icon",{attrs:{size:"18"}},[t._v("arrow_drop_down")])],1),a("v-list",t._l(t.btnStepsDynamics,function(e,i){return a("v-list-tile",{key:i,on:{click:function(a){t.btnActionEvent(e,i)}}},[a("v-list-tile-title",[t._v(t._s(e.title))])],1)}),1)],1):t._e()],2):t._e()])],1)],1)],1)])},J=[],X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[t._l(t.dossierTemplateItems,function(e,i){return t.partTypes.includes(e.partType)&&t.checkVisibleTemp(e,i)?a("div",{key:e.partNo,staticClass:"form_alpaca",staticStyle:{position:"relative"}},[a("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{value:[t.currentFormView==="formAlpaca"+e.partNo+t.id]}},[a("v-expansion-panel-content",{attrs:{"hide-actions":""}},[a("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(e){t.stateView=!1}},slot:"header"},[a("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:t.checkStyle(e)}},[a("div",{staticClass:"mr-2",staticStyle:{"min-width":"18px",display:"flex"},on:{click:function(a){t.onlyView&&e.hasForm?t.viewFile2(e):t.loadAlpcaForm(e)}}},[a("div",{staticClass:"header__tphs"},[a("span",{staticClass:"text-bold"},[t._v(t._s(i+1)+".")]),t._v("  ")]),a("div",{staticClass:"header__tphs"},[a("v-tooltip",{staticStyle:{"max-width":"100% !important"},attrs:{top:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                      "+t._s(e.partName)+"  \n                      "),e.required?a("span",{staticStyle:{color:"red"}},[t._v(" (*) ")]):t._e(),t._v("\n                        \n                    ")]),e.partTip["tip"]?a("span",[t._v(t._s(e.partTip["tip"]))]):t._e()]),e.hasForm&&e.daKhai&&(1===t.originality&&2!==e.partType||1!==t.originality)?a("v-tooltip",{attrs:{top:""}},[a("i",{staticClass:"fa fa-file-text-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator","aria-hidden":"true"},slot:"activator"}),a("span",[t._v("Biểu mẫu trực tuyến (Đã khai)")])]):t._e(),e.hasForm&&!e.daKhai&&(1===t.originality&&2!==e.partType||1!==t.originality)?a("v-tooltip",{attrs:{top:""}},[a("i",{staticClass:"fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator"},slot:"activator"}),a("span",[t._v("Biểu mẫu trực tuyến (Chưa khai)")])]):t._e(),t._v("\n                    \n                  "),!e.hasForm&&e.hasFileTemp?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{slot:"activator",size:"16",color:"primary"},on:{click:function(a){a.stopPropagation(),t.downloadFileTemplate(e,i)}},slot:"activator"},[t._v("save_alt")]),a("span",[t._v("Biểu mẫu điền thủ công")])],1):t._e()],1)]),a("div",{staticStyle:{display:"flex"}},[1===t.checkInput&&2===e.fileCheck&&e.stateEditFileCheck?a("v-text-field",{attrs:{placeholder:"Nhập lý do",rules:[function(t){return!!t||"Bạn phải nhập lý do trước khi gửi"}],required:""},on:{keyup:function(a){if(!("button"in a)&&t._k(a.keyCode,"enter",13,a.key,"Enter"))return null;t.changeFileComment(e,i)}},model:{value:e.fileComment,callback:function(a){t.$set(e,"fileComment",a)},expression:"item.fileComment"}}):t._e(),1===t.checkInput&&2===e.fileCheck&&e.stateEditFileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){a.stopPropagation(),t.changeFileComment(e,i)}},slot:"activator"},[a("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("send")])],1),a("span",[t._v("Gửi")])],1):t._e()],1),e.fileComment&&!e.stateEditFileCheck?a("i",{staticStyle:{"font-size":"12px",color:"#0d71bb","margin-left":"10px"}},[t._v(t._s(e.fileComment))]):t._e(),e.fileComment&&!e.stateEditFileCheck&&1===t.checkInput?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticStyle:{"font-size":"13px",color:"#0d71bb","margin-left":"10px",cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.stateEditFileCheck=!e.stateEditFileCheck}},slot:"activator"},[t._v("edit")]),a("span",[t._v("Chỉnh sửa ý kiến")])],1):t._e(),t._l(t.dossierFilesItems,function(i,n){return e.partNo!==i.dossierPartNo||i.eForm?t._e():a("div",{key:n},[a("div",{style:{width:"calc(100% - 370px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),t.viewFile2(i)}}},[0!==i.fileSize?a("v-icon",[t._v("attach_file")]):t._e(),t._v("\n                    "+t._s(i.displayName)+" - \n                    "),a("i",[t._v(t._s(i.modifiedDate))])],1),t.onlyView||1===t.checkInput?t._e():a("v-btn",{staticClass:"mx-0 my-0",attrs:{icon:"",ripple:""},on:{click:function(e){e.stopPropagation(),t.deleteSingleFile(i,n)}}},[a("v-icon",{staticStyle:{color:"red"}},[t._v("delete_outline")])],1)],1)])}),a("div",{staticClass:"mr-3 my-1 py-2",staticStyle:{display:"none",border:"1px solid #f3ae75"},attrs:{id:"fileApplicant-"+e.partNo}},t._l(t.dossierFilesApplicant,function(i,n){return i.dossierTemplateNo===t.thongTinHoSo["dossierTemplateNo"]&&e.partNo===i.dossierPartNo?a("div",{key:n},[i.eForm?a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[a("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){e.stopPropagation(),t.viewGiayToDaNop(i)}},slot:"activator"},[a("i",{staticClass:"ml-1 fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"}}),t._v("  \n                        "+t._s(i.referenceUid)+"."+t._s(i.fileType)+" - \n                        "),a("i",[t._v(t._s(i.modifiedDate))])]),a("span",[t._v("Bản khai trực tuyến")])])],1):a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[a("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){e.stopPropagation(),t.viewGiayToDaNop(i)}},slot:"activator"},[0!==i.fileSize?a("v-icon",{staticStyle:{color:"#0d71bb"}},[t._v("attach_file")]):t._e(),t._v("\n                        "+t._s(i.displayName)+" - \n                        "),a("i",[t._v(t._s(i.modifiedDate))])],1),a("span",[t._v("Đính kèm")])])],1)]):t._e()}),0)],2)]),e.hasForm&&!t.onlyView?a("v-card",[a("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[a("v-layout",{attrs:{wrap:""}},[t.stateView?t._e():a("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[a("div",{style:t.pstFixed>t.pstEl&&t.pstFixed<t.endEl+t.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+e.partNo+t.id}},[e.hasForm&&!t.onlyView&&1!==t.checkInput?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){t.saveAlpacaForm(e,i)}}},[t._v("Lưu lại")]):t._e(),e.daKhai&&e.hasForm&&!t.onlyView&&1!==t.checkInput?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){t.deleteSingleFileEform(e,i)}}},[t._v("Xóa")]):t._e(),e.daKhai&&e.hasForm?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){t.previewFileEfom(e,i)}}},[t._v("In")]):t._e()],1),!t.onlyView||e.daKhai?a("div",{class:{no_acction__event:t.onlyView},attrs:{id:"formAlpaca"+e.partNo+t.id}}):t._e()])],1)],1)],1):t._e()],1)],1),a("div",{staticClass:"absolute__btn group__thanh_phan mr-1"},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a("v-layout",{attrs:{row:"",wrap:""}},[1===t.originality||1!==e.partType||t.thongTinHoSo.online||1===t.checkInput?t._e():a("v-flex",{staticClass:"layout wrap",staticStyle:{width:"110px"}},[a("v-select",{attrs:{items:t.fileMarkItems,disabled:t.onlyView},on:{change:function(e){t.changeFileMark(e,i)}},model:{value:t.dossierTemplateItems[i].fileMark,callback:function(e){t.$set(t.dossierTemplateItems[i],"fileMark",e)},expression:"dossierTemplateItems[index].fileMark"}})],1),1===t.checkInput?a("v-flex",{staticClass:"layout wrap",staticStyle:{width:"120px"}},[a("v-select",{attrs:{items:t.fileCheckItems,"item-text":"text","item-value":"value"},on:{change:function(e){t.changeFileCheck(e,i)}},model:{value:t.dossierTemplateItems[i].fileCheck,callback:function(e){t.$set(t.dossierTemplateItems[i],"fileCheck",e)},expression:"dossierTemplateItems[index].fileCheck"}})],1):e.fileCheck>0?a("v-flex",{staticClass:"layout wrap",style:{width:"20px","align-items":"center","margin-left":"10px","margin-top":t.thongTinHoSo.online?"10px":"0px"}},[1===e.fileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[t._v("done")]),a("span",[t._v("Đạt")])],1):2===e.fileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[t._v("close")]),a("span",[t._v("Không đạt")])],1):t._e()],1):t._e(),1!==t.checkInput?a("v-flex",{class:{"text-xs-right":t.onlyView},style:{width:t.onlyView?"auto":"90px"}},[a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+e.partNo},on:{change:function(a){t.onUploadSingleFile(a,e,i)}}}),3!==e.partType||3!==t.originality||t.onlyView?t._e():a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){t.addFileOther(e)}},slot:"activator"},[a("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("add")])],1),a("span",[t._v("Thêm giấy tờ khác")])],1),t.progressUploadPart===e.partNo?a("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t.progressUploadPart===e.partNo||t.onlyView?t._e():a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){t.pickFile(e)}},slot:"activator"},[a("v-badge",[a("v-icon",{attrs:{size:"16",color:"primary"}},[t._v("cloud_upload")])],1)],1),e.partTip["extensions"]||e.partTip["maxSize"]?a("span",[t._v("Chấp nhận tải lên các định dạng: "+t._s(e.partTip["extensions"])+". Tối đa "+t._s(e.partTip["maxSize"])+" MB ")]):a("span",[t._v("Tải file lên")])],1),t.partNoApplicantHasFile(e.partNo)&&!t.onlyView?a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){t.showFilesApplicant(e.partNo)}},slot:"activator"},[a("v-badge",[a("v-icon",{attrs:{size:"16",color:"orange darken-3"}},[t._v("warning")])],1)],1),a("span",[t._v("Giấy tờ đã nộp")])],1):t._e()],1):t._e()],1)],1)],1):t._e()}),t.partTypes.includes(2)?t._e():a("div",[a("v-layout",{staticClass:"mx-4",attrs:{wrap:""}},[!t.onlyView||t.onlyView&&t.applicantNoteDossier?a("v-flex",{staticClass:"my-0 py-2 text-bold",staticStyle:{width:"60px"}},[t._v("Ghi chú:")]):t._e(),a("v-flex",{staticStyle:{width:"calc(100% - 80px)"}},[t.onlyView?t._e():a("div",{staticClass:"pl-2"},[a("v-text-field",{staticClass:"py-0",attrs:{"multi-line":"",rows:"3"},on:{input:t.changeApplicantNote},model:{value:t.applicantNoteDossier,callback:function(e){t.applicantNoteDossier=e},expression:"applicantNoteDossier"}})],1),t.onlyView&&t.applicantNoteDossier?a("p",{staticClass:"my-0 py-2"},[t._v("\n            "+t._s(t.applicantNoteDossier)+" \n          ")]):t._e()])],1)],1),a("v-dialog",{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:t.dialogAddOtherTemp,callback:function(e){t.dialogAddOtherTemp=e},expression:"dialogAddOtherTemp"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card-title",{staticClass:"headline"},[t._v("Tên giấy tờ")]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(e){return t.cancelDialog(e)}}},[a("v-icon",[t._v("clear")])],1),t.loadingAddOther?a("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0}}):t._e(),a("v-card-text",{staticClass:"pb-0 pt-4"},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"px-2 pb-3 fix__label",attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Tên giấy tờ:",rules:[function(t){return!!t||"Bạn phải điền tên giấy tờ."}],required:""},model:{value:t.otherDossierTemplate,callback:function(e){t.otherDossierTemplate=e},expression:"otherDossierTemplate"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-3",flat:"flat"},nativeOn:{click:function(e){return t.cancelDialog(e)}}},[t._v("\n              Quay lại\n            ")]),a("v-btn",{attrs:{color:"primary",flat:"flat",loading:t.loadingAddOther},nativeOn:{click:function(e){return t.addOtherTemplate(e)}}},[t._v("\n              Đồng ý\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])],1)],1)],1)],1)],2),a("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t.pdfEform?a("span",[t._v("Bản khai trực tuyến")]):a("span",[t._v("File đính kèm")])]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[a("v-icon",[t._v("clear")])],1),t.dialogPDFLoading?a("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},Q=[],Z={data:function(){return{}}},tt=Z,et=a("4ca6"),at=a("b0af"),it=a("99d9"),nt=a("12b2"),ot=a("169a"),rt=a("cd55"),st=a("49e2"),lt=a("0e8f"),ct=a("4bd4"),dt=a("8e36"),ut=a("b56d"),pt=a("9910"),_t=a("2677"),vt=a("3a2f"),mt=Object(c["a"])(tt,X,Q,!1,null,null,null);mt.options.__file="TiepNhanHoSo_ThanhPhanHoSo.vue";var ft=mt.exports;u()(mt,{VBadge:et["a"],VBtn:_["a"],VCard:at["a"],VCardActions:it["a"],VCardText:it["b"],VCardTitle:nt["a"],VDialog:ot["a"],VExpansionPanel:rt["a"],VExpansionPanelContent:st["a"],VFlex:lt["a"],VForm:ct["a"],VIcon:m["a"],VLayout:$["a"],VProgressCircular:D["a"],VProgressLinear:dt["a"],VSelect:ut["a"],VSpacer:pt["a"],VTextField:_t["a"],VTooltip:vt["a"]});var ht={props:["index","id"],components:{"thanh-phan-ho-so":ft},data:function(){return{}}},gt=ht,bt=a("e449"),yt=a("71a3"),Dt=a("c671"),xt=a("fe57"),Ct=a("aac8"),wt=a("9a96"),kt=Object(c["a"])(gt,Y,J,!1,null,null,null);kt.options.__file="XemChiTietHoSoDetailCanBo.vue";var Pt=kt.exports;u()(kt,{VBtn:_["a"],VExpansionPanel:rt["a"],VExpansionPanelContent:st["a"],VIcon:m["a"],VList:f["a"],VListTile:h["a"],VListTileTitle:b["b"],VMenu:bt["a"],VTab:yt["a"],VTabItem:Dt["a"],VTabs:xt["a"],VTabsItems:Ct["a"],VTabsSlider:wt["a"]});var Et={props:["id","formCode"],components:{"xem-chi-tiet-ho-so-detail-can-bo":Pt},data:function(){return{initData:null,step:""}}},Tt=Et,Ot=Object(c["a"])(Tt,G,H,!1,null,null,null);Ot.options.__file="DetailForward.vue";var St=Ot.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1)],1)],1)},Ft=[],Lt={},At=Lt,Mt=a("a523"),Bt=Object(c["a"])(At,It,Ft,!1,null,null,null);Bt.options.__file="NotFound.vue";var Vt=Bt.exports;u()(Bt,{VContainer:Mt["a"],VFlex:lt["a"],VLayout:$["a"],VProgressCircular:D["a"]});var $t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row-header no__hidden_class"},[a("div",{staticClass:"background-triangle-big"},[a("span",[t._v(t._s(t.items?String(t.items[t.index]["typeName"]):""))])]),a("div",{staticClass:"layout row wrap header_tools row-blue"},[a("div",{staticClass:"flex pl-3 text-ellipsis text-bold",staticStyle:{position:"relative"}}),a("div",{staticClass:"flex text-right",staticStyle:{"margin-left":"auto","max-width":"115px"}},[a("v-btn",{staticClass:"my-0 mx-2",attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(e){t.menusss=!t.menusss}}},[a("v-icon",{attrs:{size:"16"}},[t._v("search")]),t._v("  Tìm kiếm\n        ")],1)],1)])]),t.menusss?a("div",{},[a("v-layout",{attrs:{wrap:""}},[a("div",{staticClass:"adv_search px-2 my-2 mx-2",staticStyle:{background:"#eeeeee"}},[a("div",{staticClass:"searchAdvanced-content py-2"},[a("v-layout",{attrs:{wrap:""}},t._l(t.filters,function(e,i){return e.display?a("v-flex",{key:i,staticClass:"mb-2 px-2",class:e.class},[a("div",[a("div",{staticClass:"d-inline-block text-bold",staticStyle:{"font-weight":"450",width:"150px"}},[t._v(t._s(e.fieldLabel)+":")]),"string"===e.fieldType?a("v-text-field",{staticClass:"search-input-appbar input-search d-inline-block",staticStyle:{width:"calc(100% - 150px)"},attrs:{"single-lines":"","hide-details":"",solo:"",flat:"",height:"32","min-height":"32",clearable:""},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.filterDeliverable(e):null}},model:{value:t.filterData[e.fieldName],callback:function(a){t.$set(t.filterData,e.fieldName,a)},expression:"filterData[item.fieldName]"}}):t._e(),"textarea"===e["fieldType"]?a("v-textarea",{staticClass:"search-input-appbar input-search d-inline-block",staticStyle:{width:"calc(100% - 150px)"},attrs:{"single-lines":"","hide-details":"",solo:"",flat:"",rows:"3",clearable:""},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.filterDeliverable(e):null}},model:{value:t.filterData[e.fieldName],callback:function(a){t.$set(t.filterData,e.fieldName,a)},expression:"filterData[item.fieldName]"}}):t._e(),"select"===e["fieldType"]?a("v-autocomplete",{staticClass:"select-search d-inline-block",staticStyle:{width:"calc(100% - 150px)"},attrs:{items:e["source"],label:e["label"],"item-value":"value","item-text":"name",clearable:e["clearable"],"hide-details":"",solo:"",flat:"",height:"32","min-height":"32"},model:{value:t.filterData[e.fieldName],callback:function(a){t.$set(t.filterData,e.fieldName,a)},expression:"filterData[item.fieldName]"}}):t._e(),"date"===e.fieldType?a("datetime-picker",{attrs:{item:e,"data-value":t.filterData[e.fieldName],"data-all":t.filterData,classTextField:"search-input-appbar input-search d-inline-block",classMenu:"d-inline-block"},on:{changeDate:function(a){t.changeDate(a,e.fieldName)}},model:{value:t.filterData[e.fieldName],callback:function(a){t.$set(t.filterData,e.fieldName,a)},expression:"filterData[item.fieldName]"}}):t._e()],1)]):t._e()}),1),a("v-flex",{staticClass:"xs12 mx-2"},[a("v-btn",{staticClass:"mx-0 mb-0",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.filterDeliverable(e)}}},[a("v-icon",{attrs:{size:"18"}},[t._v("search")]),t._v("   Tìm kiếm\n            ")],1)],1)],1)])])],1):t._e(),t.getUser("QUAN_LY_GIAY_PHEP")||t.userPermission?a("div",{staticStyle:{"text-align":"right"}},[a("v-btn",{attrs:{color:"blue darken-3",dark:"",to:"/danh-sach-giay-to/"+t.index+"/editor/0"}},[a("v-icon",{attrs:{size:"16"}},[t._v("add")]),t._v(" Thêm "+t._s(String(t.loaiDuLieu).toLowerCase())+"\n    ")],1),a("v-btn",{staticClass:"white--text",attrs:{color:"primary",loading:t.loadingImport,disabled:t.loadingImport},on:{click:t.doImportData}},[a("v-icon",[t._v("exit_to_app")]),t._v("  \n      Import "+t._s(String(t.loaiDuLieu).toLowerCase())+"\n    ")],1)],1):t._e(),a("v-data-table",{staticClass:"table-landing table-bordered",attrs:{headers:t.headers,items:t.hosoDatas,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",[a("td",{staticClass:"text-xs-center px-0 py-0 pt-1"},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){t.viewDetail(e.item,e.index)}}},[t._v("\n            "+t._s(15*t.hosoDatasPage-15+e.index+1)+"\n          ")])],1),t._l(t.headers,function(i,n){return i.hasOwnProperty("value")?a("td",{key:n+"_"+e.item["_id"],staticClass:"pt-1",class:i["class_column"]},["deliverableState"===i.value?a("div",{staticStyle:{cursor:"pointer"},on:{click:function(a){t.viewDetail(e.item,e.index)}}},[a("span",[t._v("\n              "+t._s(t.getState(e.item))+"\n            ")])]):"mortgageable"===i.value?a("div",{staticClass:"text-xs-center",staticStyle:{cursor:"pointer"}},["true"===String(e.item["mortgageable_data"]).toLowerCase()&&e.item["mortgageInfo_data"]?a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",flat:"",icon:""},on:{click:function(a){a.stopPropagation(),t.showMortgage(e.item,e.index)}},slot:"activator"},[a("v-icon",{staticClass:"green--text",attrs:{size:"24px"}},[t._v("check_circle")])],1),a("span",[t._v(t._s(e.item["mortgageInfo_data"]))])],1):t._e(),"true"!==String(e.item["mortgageable_data"]).toLowerCase()||e.item["mortgageInfo_data"]?t._e():a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",flat:"",icon:""},on:{click:function(a){a.stopPropagation(),t.showMortgage(e.item,e.index)}},slot:"activator"},[a("v-icon",{staticStyle:{color:"#D32F2F"},attrs:{size:"24px"}},[t._v("remove_circle")])],1),a("span",[t._v("Không có thông tin thế chấp")])],1)],1):a("div",{staticStyle:{cursor:"pointer"},on:{click:function(a){t.viewDetail(e.item,e.index)}}},[i.hasOwnProperty("layout_view")?a("template-rendering",{attrs:{item:e.item,layout_view:i.layout_view}}):a("span",[t._v("\n              "+t._s(e.item[i.value])+"\n            ")])],1)]):t._e()}),t.hideAction?t._e():a("td",{staticClass:"text-xs-center px-0 py-0 pt-1",staticStyle:{width:"120px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),t.loadingTable?t._e():a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",flat:"",icon:""},nativeOn:{click:function(a){t.showPDFG(e.item)}},slot:"activator"},[a("v-icon",[t._v("picture_as_pdf")])],1),a("span",[t._v("Xem  "+t._s(String(t.loaiDuLieu).toLowerCase()))])],1),t.loadingTable?t._e():a("v-tooltip",{attrs:{top:""}},[e.item["fileAttachs"]&&!t.loadingTable?a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",flat:"",icon:""},nativeOn:{click:function(a){t.viewFileAttach(e.item)}},slot:"activator"},[a("v-icon",[t._v("attach_file")])],1):t._e(),a("span",[t._v("Xem tài liệu đính kèm")])],1),t.loadingTable?t._e():a("v-tooltip",{attrs:{top:""}},["0"!==e.item["dossierId"]||t.loadingTable?t._e():a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",flat:"",icon:""},nativeOn:{click:function(a){t.editDeliverables(e.item)}},slot:"activator"},[a("v-icon",[t._v("edit")])],1),a("span",[t._v("Sửa "+t._s(String(t.loaiDuLieu).toLowerCase()))])],1),t.loadingTable?t._e():a("v-tooltip",{attrs:{top:""}},["0"!==e.item["dossierId"]||t.loadingTable?t._e():a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",flat:"",icon:""},nativeOn:{click:function(a){t.deleteDeliverable(e.item)}},slot:"activator"},[a("v-icon",[t._v("delete")])],1),a("span",[t._v("Xóa "+t._s(String(t.loaiDuLieu).toLowerCase()))])],1)],1)],2)]}}])},[a("template",{slot:"no-data"},[a("div",{staticClass:"text-xs-center mt-2"},[t._v("\n        Không có dữ liệu\n      ")])])],2),t.loadingTable?t._e():a("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative","border-top":"1px solid lightgrey"}},[a("div",{staticClass:"flex pagging-table px-2"},[a("tiny-pagination",{attrs:{total:t.hosoDatasTotal,page:t.hosoDatasPage,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.paggingData}})],1)]),a("v-dialog",{attrs:{"max-width":"1200",transition:"fade-transition",fullscreen:""},model:{value:t.dialogPDFList,callback:function(e){t.dialogPDFList=e},expression:"dialogPDFList"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-toolbar-title",[t.viewAttach?a("span",[t._v("Tài liệu đính kèm")]):a("span",[t._v("Giấy phép")])]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDFList=!1}}},[a("v-icon",[t._v("close")])],1)],1),t.dialogPDFLoading?a("div",{staticStyle:{"min-height":"650px","text-align":"center",margin:"auto",padding:"25%"}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"650px"},attrs:{id:"pdfViewerListComponent",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}}),t.viewAttach&&t.fileEntryIdAttachs.length>1?a("v-card-actions",{staticClass:"py-0"},[a("span",{staticClass:"left primary--text text-bold",staticStyle:{"font-size":"1.25em"}},[t._v("Tổng số: "),a("span",{staticClass:"red--text"},[t._v(t._s(t.fileEntryIdAttachs.length))]),t._v(" tài liệu")]),a("div",{staticClass:"text-xs-center",staticStyle:{width:"calc(100% - 150px)"}},[a("v-pagination",{attrs:{length:t.fileEntryIdAttachs.length,circle:"","total-visible":5},on:{input:function(e){t.changePage(t.pageAttachs)}},model:{value:t.pageAttachs,callback:function(e){t.pageAttachs=e},expression:"pageAttachs"}})],1)]):t._e()],1)],1),a("v-dialog",{attrs:{"max-width":"700",persistent:"",transition:"fade-transition"},model:{value:t.dialogMortgage,callback:function(e){t.dialogMortgage=e},expression:"dialogMortgage"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("\n         Thông tin thế chấp\n        ")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogMortgage=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("v-card-text",[a("v-textarea",{attrs:{placeholder:"Nhập thông tin thế chấp",box:"",rows:"7"},model:{value:t.mortGageInput,callback:function(e){t.mortGageInput=e},expression:"mortGageInput"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mr-2",attrs:{color:"red",loading:t.loading,disabled:t.loading},on:{click:function(e){t.dialogMortgage=!1}}},[a("v-icon",{staticClass:"white--text"},[t._v("clear")]),t._v("  \n          "),a("span",{staticClass:"white--text"},[t._v("Thoát")])],1),a("v-btn",{staticClass:"mr-2",attrs:{color:"primary",loading:t.loading,disabled:t.loading},on:{click:function(e){t.changeMortgageInfo()}}},[a("v-icon",[t._v("save")]),t._v("  \n          Cập nhật\n        ")],1)],1)],1)],1),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"importData",attrs:{type:"file",name:"importData",accept:""},on:{change:t.onFilePicked}})],1)},Ut=[],Rt=a("5200"),Nt=Rt["a"],Kt=a("c6a6"),Wt=a("8fea"),qt=a("891e"),jt=a("a844"),zt=a("71d9"),Gt=a("2a7f"),Ht=Object(c["a"])(Nt,$t,Ut,!1,null,null,null);Ht.options.__file="DeliverableList.vue";var Yt=Ht.exports;u()(Ht,{VAutocomplete:Kt["a"],VBtn:_["a"],VCard:at["a"],VCardActions:it["a"],VCardText:it["b"],VDataTable:Wt["a"],VDialog:ot["a"],VFlex:lt["a"],VIcon:m["a"],VLayout:$["a"],VPagination:qt["a"],VProgressCircular:D["a"],VSpacer:pt["a"],VTextField:_t["a"],VTextarea:jt["a"],VToolbar:zt["a"],VToolbarTitle:Gt["a"],VTooltip:vt["a"]});var Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll",value:t.onScroll,expression:"onScroll"}]},[a("v-form",{ref:"form",staticStyle:{background:"#ffffff"},attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("div",{staticClass:"row-header no__hidden_class"},[a("div",{staticClass:"background-triangle-big"},["0"!==String(t.id)?a("span",[t._v("THÔNG TIN "+t._s(String(t.loaiDuLieu).toUpperCase()))]):a("span",[t._v("TẠO MỚI "+t._s(String(t.loaiDuLieu).toUpperCase()))])]),a("div",{staticClass:"layout row wrap header_tools row-blue"},[a("div",{staticClass:"flex pl-3 text-ellipsis text-bold",staticStyle:{position:"relative"}},["0"!==String(t.id)?a("span",[t._v(t._s(t.deName))]):a("span",[t._v(t._s(t.items[t.index]["typeName"]))])])])]),t.showComponent&&"0"!==String(t.id)&&!t.editDeliverable?a("view-pdf",{ref:"viewpdf",attrs:{id:t.id,datainput:t.detail}}):t._e(),t.showComponent&&t.editDeliverable?a("bbat-table-editor-component",{ref:"bbatForm",attrs:{id:t.id,formid:t.formId,datainput:t.detail["formData"]}}):t._e(),a("v-navigation-drawer",{attrs:{absolute:"","hide-overlay":"",right:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("bbat-table-editor-component-simple",{ref:"bbatFormSimple",attrs:{id:t.id,datainput:t.detail}})],1),a("v-layout",{class:{fix_tool_bottom:t.offsetCheck>300},attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-right pt-0 mt-4 ml-1 px-0 pr-3",attrs:{xs12:""}},[t.loading?a("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0,color:"blue darken-3"}}):t._e(),(t.getUser("QUAN_LY_GIAY_PHEP")||t.userPermission)&&t.editDeliverable?a("v-btn",{staticClass:"mr-1",attrs:{color:"blue darken-3",dark:"",loading:t.loading,disabled:t.loading},nativeOn:{click:function(e){t.saveToData(0)}}},[a("v-icon",[t._v("save")]),t._v("  \n          "),"0"===String(t.id)?a("span",[t._v("Tạo  "+t._s(t.loaiDuLieu))]):a("span",[t._v("Cập nhật")])],1):t._e(),!t.getUser("QUAN_LY_GIAY_PHEP")&&!t.userPermission||t.editDeliverable||"0"===String(t.id)?t._e():a("v-btn",{staticClass:"mr-1",attrs:{color:"blue darken-3",dark:"",loading:t.loading,disabled:t.loading},nativeOn:{click:function(e){return t.uploadFileDeliverable(e)}}},[a("v-icon",[t._v("cloud_upload")]),t._v("  \n        Tải "+t._s(String(t.loaiDuLieu).toLowerCase())+" từ máy tính\n        ")],1),!t.getUser("QUAN_LY_GIAY_PHEP")&&!t.userPermission||t.editDeliverable||"0"!==t.detail.dossierId?t._e():a("v-btn",{staticClass:"mr-1",attrs:{color:"blue darken-3",dark:"",loading:t.loading,disabled:t.loading},nativeOn:{click:function(e){t.editDeliverable=!0}}},[a("v-icon",[t._v("edit")]),t._v("  \n        Sửa "+t._s(String(t.loaiDuLieu).toLowerCase())+"\n        ")],1),"0"!==String(t.id)&&!t.editDeliverable&&t.detail["fileAttachs"]?a("v-btn",{staticClass:"mr-1",attrs:{color:"blue darken-3",dark:"",loading:t.loading,disabled:t.loading},nativeOn:{click:function(e){t.viewFileAttach(t.detail)}}},[a("v-icon",[t._v("visibility")]),t._v("  \n          Tài liệu đính kèm\n        ")],1):t._e(),"0"!==String(t.id)&&t.editDeliverable?a("v-btn",{staticClass:"mr-1",attrs:{color:"blue darken-3",dark:"",loading:t.loading,disabled:t.loading},nativeOn:{click:function(e){t.editDeliverable=!1}}},[a("v-icon",[t._v("visibility")]),t._v("  \n        Xem "+t._s(String(t.loaiDuLieu).toLowerCase())+"\n        ")],1):t._e(),a("v-btn",{staticClass:"mr-0",attrs:{color:"red darken-3",dark:""},nativeOn:{click:function(e){return t.backToList(e)}}},[a("v-icon",[t._v("reply")]),t._v("  \n          Quay lại\n        ")],1)],1),a("ejs-uploader",{ref:"uploadObj",staticStyle:{display:"none !important"},attrs:{multiple:!1,autoUpload:t.auto,id:"templateupload",name:"UploadFiles",allowedExtensions:t.extensions,dropArea:t.dropArea,maxFileSize:10485760,success:t.onSuccess,uploading:t.addHeaders}})],1)],1),a("v-dialog",{attrs:{"max-width":"1200",transition:"fade-transition",fullscreen:""},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Tài liệu đính kèm")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[a("v-icon",[t._v("close")])],1)],1),t.dialogPDFLoading?a("div",{staticStyle:{"min-height":"650px","text-align":"center",margin:"auto",padding:"25%"}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),a("v-card-text",{staticClass:"px-0 py-0 my-0 py-0"},[a("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"650px"},attrs:{id:"pdfViewerListComponent",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})]),t.fileEntryIdAttachs.length>1?a("v-card-actions",{staticClass:"py-0"},[a("span",{staticClass:"left primary--text text-bold",staticStyle:{"font-size":"1.25em"}},[t._v("Tổng số: "),a("span",{staticClass:"red--text"},[t._v(t._s(t.fileEntryIdAttachs.length))]),t._v(" tài liệu")]),a("div",{staticClass:"text-xs-center",staticStyle:{width:"calc(100% - 150px)"}},[a("v-pagination",{attrs:{length:t.fileEntryIdAttachs.length,circle:"","total-visible":5},on:{input:function(e){t.changePage(t.pageAttachs)}},model:{value:t.pageAttachs,callback:function(e){t.pageAttachs=e},expression:"pageAttachs"}})],1)]):t._e()],1)],1)],1)},Xt=[],Qt=a("952c"),Zt=Qt["a"],te=Object(c["a"])(Zt,Jt,Xt,!1,null,null,null);te.options.__file="DeliverableEditor.vue";var ee=te.exports;u()(te,{VBtn:_["a"],VCard:at["a"],VCardActions:it["a"],VCardText:it["b"],VDialog:ot["a"],VFlex:lt["a"],VForm:ct["a"],VIcon:m["a"],VLayout:$["a"],VNavigationDrawer:y["a"],VPagination:qt["a"],VProgressCircular:D["a"],VProgressLinear:dt["a"],VSpacer:pt["a"],VToolbar:zt["a"],VToolbarTitle:Gt["a"]});var ae=[{path:"/danh-sach-giay-to/:index",name:"DeliverableList",component:Yt,props:!0},{path:"/danh-sach-giay-to/:index/editor/:id",name:"DeliverableEditor",component:ee,props:!0},{path:"/danh-sach-ho-so/:index",name:"Landing",component:I,props:!0},{path:"/danh-sach-ho-so/:index/tiep-nhan-ho-so/:id/:formCode",name:"TiepNhanHoSoDetail",component:R,props:!0},{path:"/danh-sach-ho-so/:index/bo-sung-ho-so/:id",name:"HoanThienBoSungHoSoDetail",component:z,props:!0},{path:"/danh-sach-ho-so/:index/ho-so/:id/:formCode",name:"DetailForward",component:St,props:!0},{path:"*",name:"NotFound",component:Vt}];i["a"].use(k["a"]);var ie=new k["a"]({routes:ae}),ne=ie,oe=a("4360"),re=a("967d"),se=a("bc3a"),le=a.n(se),ce=a("e0e8");i["a"].use(ce["a"]),i["a"].use(re["default"]);var de=void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0,ue=(void 0!==window.themeDisplay&&window.themeDisplay.getCompanyId(),void 0!==window.themeDisplay&&window.themeDisplay.getUserId(),void 0!==window.themeDisplay&&window.themeDisplay.getUserName(),void 0!==window.themeDisplay?window.themeDisplay.getPortalURL().replace("http://",""):"localhost:8080");void 0!==window.themeDisplay&&window.Liferay.authToken,ue.indexOf(":")>0&&ue.substr(0,ue.indexOf(":"));le.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",le.a.defaults.headers.common["groupId"]=de,i["a"].config.productionTip=!0,i["a"].mixin({methods:{getScopeGroupId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0},getAuthToken:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.Liferay.authToken:""},getUserId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getUserId():0}}}),new i["a"]({router:ne,store:oe["a"],created:function(){var t=this;t.$nextTick(function(){t.$store.dispatch("loadInitResource"),window.location.href.endsWith("#/")&&t.$router.push("/danh-sach-giay-to/0"),t.$store.dispatch("getDeliverableTypes")})},render:function(t){return t(w)}}).$mount("#app_deliverable")},"6c58":function(module,__webpack_exports__,__webpack_require__){"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var a=[],i=!0,n=!1,o=void 0;try{for(var r,s=t[Symbol.iterator]();!(i=(r=s.next()).done);i=!0)if(a.push(r.value),e&&a.length===e)break}catch(l){n=!0,o=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(n)throw o}}return a}function _arrayWithHoles(t){if(Array.isArray(t))return t}__webpack_exports__["a"]={data:function(){return{toDateFormatted:null,toDate:null,rules:{required:function(t){return!!t||"Bắt buộc phải nhập."},number:function(t){var e=/^\d+$/;return e.test(t)||"Bắt buộc phải nhập kiểu số."},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Sai định dạng thư điện tử."}}}},props:["value","item","dataValue","classTextField","classMenu"],watch:{toDate:function(t){var e=this;setTimeout(function(){var a=t.split("-"),i=_slicedToArray(a,3),n=i[0],o=i[1],r=i[2];e.dataValue="".concat(r,"/").concat(o,"/").concat(n),e.$emit("changeDate",e.dataValue)},300)},dataValue:function(t){this.$emit("changeDate",t)}},methods:{formatDate:function(t){if(!t)return null;var e;if(isNaN(t)){if(!(String(t).indexOf("-")>=0))return t;e=t}else e=parseInt(t);var a=new Date(e);return a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear()},parseDate:function(t){var e=this,a=t;if(!t)return null;isNaN(t)||(a=e.formatDate(t));var i=a.split("/"),n=_slicedToArray(i,3),o=n[0],r=n[1],s=n[2];return"".concat(s,"-").concat(r.padStart(2,"0"),"-").concat(o.padStart(2,"0"))},processRules:function processRules(rulesStr){return eval("( "+rulesStr+" )")}}}},"74ef":function(t,e,a){},"952c":function(module,__webpack_exports__,__webpack_require__){"use strict";var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026"),jquery__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__),_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("2af9"),toastr__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_3__),_syncfusion_ej2_vue_inputs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("e0e8"),_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("7de8");vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(_syncfusion_ej2_vue_inputs__WEBPACK_IMPORTED_MODULE_4__["a"]),__webpack_exports__["a"]={props:["index","id"],components:{BbatTableEditorComponentSimple:_components__WEBPACK_IMPORTED_MODULE_2__["c"],BbatTableEditorComponent:_components__WEBPACK_IMPORTED_MODULE_2__["b"],ViewPdf:_components__WEBPACK_IMPORTED_MODULE_2__["f"],ViewLogs:_components__WEBPACK_IMPORTED_MODULE_2__["e"],AttachedFileTemplate:_components__WEBPACK_IMPORTED_MODULE_2__["a"]},data:function(){return{drawer:null,offsetTop:0,offsetCheck:400,deName:"",valid:!1,active:-1,loading:!1,dataSocket:{},tempCounter:0,detail:{},showComponent:!1,formId:"",editDeliverable:!1,extensions:".pdf",dialogPDF:!1,dialogPDFLoading:!1,fileEntryIdAttachs:[],pageAttachs:1,loaiDuLieu:""}},created:function created(){var vm=this;vm.$nextTick(function(){var currentQuery=vm.$router.history.current.query;vm.items.length>0&&vm.$store.commit("setUserPermission",vm.items[vm.index]["moderator"]),vm.editDeliverable=!!("0"===String(vm.id)||currentQuery.hasOwnProperty("editForm")&&currentQuery.editForm),vm.$store.dispatch("getDeliverableTypes").then(function(result){setTimeout(function(){var tableConfig=eval("( "+vm.items[vm.index]["tableConfig"]+" )");tableConfig.hasOwnProperty("loaiDuLieu")&&tableConfig.loaiDuLieu?vm.loaiDuLieu=tableConfig.loaiDuLieu:vm.loaiDuLieu="giấy phép",vm.formId=vm.items[vm.index]["formScriptFileId"],vm.deName="",vm.showComponent=!1,vm.$store.dispatch("getDeliverableById",vm.id).then(function(t){"0"!==String(vm.id)&&(vm.detail=t),vm.deName=vm.detail["deliverableName"],vm.showComponent=!0,vm.$store.dispatch("getContentFileSimple"),vm.tempCounter=vm.pullCounter})},100)})})},watch:{$route:function $route(newRoute,oldRoute){var vm=this;if(vm.isConnected){vm.isConnected=!1;var formId=vm.items[vm.index]["formScriptFileId"],tableConfig=eval("( "+vm.items[vm.index]["tableConfig"]+" )");tableConfig.hasOwnProperty("loaiDuLieu")&&tableConfig.loaiDuLieu?vm.loaiDuLieu=tableConfig.loaiDuLieu:vm.loaiDuLieu="giấy phép",vm.deName="",vm.showComponent=!1,vm.$store.dispatch("getDeliverableById",vm.id).then(function(t){"0"!==String(vm.id)&&(vm.detail=t),vm.deName=vm.detail["deliverableName"],vm.showComponent=!0,vm.$store.dispatch("getContentFileSimple"),vm.tempCounter=vm.pullCounter})}},items:function(t){var e=this;e.items.length>0&&e.$store.commit("setUserPermission",e.items[e.index]["moderator"])}},computed:{items:function(){return this.$store.getters.getDeliverableTypes},userPermission:function(){return this.$store.getters.getUserPermission},pullCounter:{get:function(){return this.$store.getters.pullCounter},set:function(t){this.$store.commit("setpullCounter",t)}},isConnected:{get:function(){return this.$store.getters.getisConnected},set:function(t){this.$store.commit("setisConnected",t)}}},mounted:function(){var t=this;jquery__WEBPACK_IMPORTED_MODULE_1___default()(".e-upload").css("display","none"),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#templateupload").unbind(),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#templateupload").change(function(){setTimeout(function(){t.loading=!0;var e={id:t.id};t.$store.dispatch("uploadSingleFile",e).then(function(e){setTimeout(function(){toastr__WEBPACK_IMPORTED_MODULE_3___default.a.success("Tải "+String(t.loaiDuLieu).toLowerCase()+" lên thành công"),t.loading=!1,t.$store.dispatch("getDeliverableById",t.id).then(function(e){t.detail=e,t.editDeliverable=!1,t.showComponent=!0,t.$refs.viewpdf.pullPDF(t.detail["fileEntryId"])})},2e3)}).catch(function(){toastr__WEBPACK_IMPORTED_MODULE_3___default.a.error("Tải "+String(t.loaiDuLieu).toLowerCase()+" lên thất bại"),t.loading=!1})},200)})},methods:{onScroll:function(t){this.offsetTop=window.pageYOffset||document.documentElement.scrollTop,this.offsetCheck=document.getElementsByTagName("BODY")[0].offsetHeight-this.offsetTop},goBack:function(){window.history.back()},backToList:function(){var t=this,e=t.$router.history.current,a=e.query,i=(e.path,"?");for(var n in a["state_change"]="0",a["renew"]="",a)""!==a[n]&&"undefined"!==a[n]&&void 0!==a[n]&&(i+=n+"="+a[n]+"&");i+="renew="+Math.floor(100*Math.random())+1,t.$router.push({path:"/danh-sach-giay-to/"+t.index+i})},saveToData:function(t){var e=this;if(e.$refs.form.validate()){try{var a=window.$("#formDelivert").alpaca("get").childrenByPropertyId;if(a)for(var i in a)if(a[i].isRequired()&&""===a[i].getValue())return toastr__WEBPACK_IMPORTED_MODULE_3___default.a.clear(),void toastr__WEBPACK_IMPORTED_MODULE_3___default.a.error(a[i].options.title?a[i].options.title+" là trường dữ liệu bắt buộc":a[i].options["name"]+" là trường dữ liệu bắt buộc")}catch(r){}e.loading=!0;var n=e.$refs.bbatForm,o={};null!==n&&void 0!==n&&"undefined"!==n&&(o["formData"]={},o["formData"]=n.getFormData()),o["deliverableType"]=e.items[e.index]["typeCode"],-1===t?e.detail={}:("0"!==String(e.id)&&(o["deliverableCode"]=e.detail["deliverableCode"],o["deliverableId"]=e.detail["deliverableId"]),e.$store.dispatch("createDeliverable",o).then(function(t){"0"===String(e.id)?(e.loading=!1,e.backToList()):setTimeout(function(){toastr__WEBPACK_IMPORTED_MODULE_3___default.a.success("Cập nhật thành công"),e.loading=!1,e.$store.dispatch("getDeliverableById",e.id).then(function(t){e.detail=t,e.editDeliverable=!1,e.showComponent=!0,setTimeout(function(){e.$refs.viewpdf.pullPDF(e.detail["fileEntryId"])},200)})},2e3)}).catch(function(){e.loading=!1}))}},viewFileAttach:function(t){var e=this;e.fileEntryIdAttachs=String(t["fileAttachs"]).split(","),e.loading=!0,e.dialogPDFLoading=!0,e.$store.dispatch("viewPDF",e.fileEntryIdAttachs[0]).then(function(t){e.loading=!1,e.dialogPDFLoading=!1,e.dialogPDF=!0,document.getElementById("pdfViewerListComponent").src=t}).catch(function(){e.loading=!1,e.dialogPDFLoading=!1})},changePage:function(t){var e=this,a=Number(t)-1;e.dialogPDFLoading=!0,e.$store.dispatch("viewPDF",e.fileEntryIdAttachs[a]).then(function(t){e.dialogPDFLoading=!1,document.getElementById("pdfViewerListComponent").src=t}).catch(function(){e.dialogPDFLoading=!1})},uploadFileDeliverable:function(){return document.getElementsByClassName("e-file-select-wrap")[0].querySelector("button").click(),!1},getUser:function(t){var e=this,a=e.$store.getters.getUser.role;if(!a)return!1;var i=a.findIndex(function(e){return String(e).indexOf(t)>=0});return i>=0}}}},bbd0:function(t){t.exports={deliverableState:{state_0:"Không rõ",state_1:"Đang hiệu lực",state_2:"Hết hiệu lực",state_3:"Tạm dừng (đình chỉ)",state_4:"Đã bị thu hồi"}}},be4e:function(module,__webpack_exports__,__webpack_require__){"use strict";var _DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fa98");__webpack_exports__["a"]={props:["id","formid","datainput"],components:{DatetimePicker:_DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_0__["a"]},data:function(){return{pullCounter:0,isCallBack:!0,config:{},pullOk:!0,valid:!0,loading:!1,data:{},cmOptions:{tabSize:4,mode:"text/javascript",theme:"base16-light",lineNumbers:!0,line:!0},rules:{required:function(t){return!!t||"Bắt buộc phải nhập."},number:function(t){var e=/^\d+$/;return e.test(t)||"Bắt buộc phải nhập kiểu số."},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Sai định dạng thư điện tử."}},formTempalate:"",active:!1}},computed:{detailForm:function(){var t=this,e=this.$store.getters.getContentFile;return t.formTempalate=e,""===e?[]:e},alpacaFormData:function(){var t=window.$("#formDelivert").alpaca("get"),e=t.getValue();return e||{}},pullCounterOrg:function(){return this.$store.getters.pullCounter},formData:function(){return this.$store.getters.getChangeFormData},activeBindFormData:function(){return this.$store.getters.getActiveBindFormData}},updated:function(){var t=this;t.$nextTick(function(){})},watch:{activeBindFormData:function(){}},mounted:function mounted(){var vm=this;vm.$nextTick(function(){vm.$store.dispatch("getContentFile",vm.formid).then(function(result){var formScript,formData;vm.formTempalate=result,window.$("#formDelivert").empty(),formScript=result||{},formData="0"!==String(vm.id)&&vm.datainput?eval("("+vm.datainput+")"):{},formScript.data=formData,window.$("#formDelivert").alpaca(formScript)})})},methods:{clearLoading:function(){this.loading=!1},processRules:function processRules(rulesStr){return eval("( "+rulesStr+" )")},processChangeDataSource:function(t,e){var a=this;e.hasOwnProperty("concatina")&&(a.pullOk=!1,a.pullCounter=a.pullCounter+1,a.$store.commit("setpullCounter",a.pullCounter),a.$socket.sendObj({type:"api",cmd:"get",respone:e.concatina["datasource_key"],api:e.concatina["datasource_api"]+"?"+e.concatina["query"]+"="+t,headers:{Token:a.getAuthToken(),groupId:a.getScopeGroupId(),USER_ID:a.getUserId()}}))},processDataSourceVerify:function(){var t=this;for(var e in t.detailForm)t.detailForm[e].hasOwnProperty("datasource_api")&&t.detailForm[e].hasOwnProperty("datasource_key")&&t.data.hasOwnProperty(t.detailForm[e]["model"])&&String(t.data[t.detailForm[e]["model"]]).startsWith("[")&&(t.data[t.detailForm[e]["model"]]=JSON.parse(t.data[t.detailForm[e]["model"]]))},processDataSource:function(){var t=this;for(var e in t.detailForm)if(t.detailForm[e].hasOwnProperty("datasource_api")&&t.detailForm[e].hasOwnProperty("datasource_key")){t.pullOk=!1,t.pullCounter=t.pullCounter+1,t.$store.commit("setpullCounter",t.pullCounter);var a=t.detailForm[e]["datasource_api"];t.detailForm[e]["dependency"]&&t.detailForm[e].hasOwnProperty("pk")&&(a=a+"?pk="+t.id+"&col="+t.detailForm[e]["pk"]),t.$socket.sendObj({type:"api",cmd:"get",respone:t.detailForm[e]["datasource_key"],api:a,headers:{Token:t.getAuthToken(),groupId:t.getScopeGroupId(),USER_ID:t.getUserId()}})}},getFormData:function(){var t=window.$("#formDelivert").alpaca("get"),e=t.getValue();return e||{}},bindFormData:function(t){var e,a,i=this,n=t;if(window.$("#formDelivert").empty(),e=i.formTempalate?i.formTempalate:{},n)for(var o in a=n,a)String(o).toLowerCase().indexOf("date")>=0&&a[o]&&String(a[o]).indexOf("/")<0&&(a[o]=i.convertDate(a[o]));else a={};e.data=a,window.$("#formDelivert").alpaca(e)},convertDate:function(t){if(Number(t)>0){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear())}return""}}}},beb1:function(t,e,a){"use strict";var i="\n    {\n        getDeliverableTypes(start: -1, end: -1) {\n            typeCode\n            typeName\n            formScriptFileId\n            formReportFileId\n            dataConfig\n            tableConfig\n            moderator\n        }\n    }\n";e["a"]={getDeliverableTypes:i}},eaa6:function(t,e,a){"use strict";var i='\n    mutation {\n        createDeliverable(\n            body: "INPUTBODY"\n        ) {\n            deliverableId\n        }\n    }\n';e["a"]={createDeliverable:i}},f8a0:function(module,__webpack_exports__,__webpack_require__){"use strict";var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026");__webpack_exports__["a"]={props:{item:{type:Object,default:function(){return{dossierId:0}}},layout_view:{type:Object}},created:function created(){var vm=this;null!==vm.layout_view&&void 0!==vm.layout_view&&"undefined"!==vm.layout_view&&vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("my-dynamic-view",{template:vm.layout_view["template"],data:eval(" ( "+vm.layout_view["data"]+" ) "),beforeCreate:eval(" ( "+vm.layout_view["beforeCreate"]+" ) "),created:eval(" ( "+vm.layout_view["created"]+" ) "),updated:eval(" ( "+vm.layout_view["updated"]+" ) "),methods:vm.layout_view["methods"]})}}},fa98:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-menu",{class:t.classMenu,staticStyle:{width:"calc(100% - 150px)"},attrs:{"close-on-content-click":!0,lazy:"",transition:"fade-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"}},[a("v-text-field",{class:t.classTextField,attrs:{slot:"activator","hide-details":"","single-lines":"",solo:"",flat:"",height:"32","min-height":"32","append-icon":"event",rules:t.processRules(t.item.rules),clearable:""},on:{change:function(e){t.toDate=t.parseDate(t.dataValue)}},slot:"activator",model:{value:t.dataValue,callback:function(e){t.dataValue=e},expression:"dataValue"}},[a("template",{slot:"label"},[t._v(t._s(t.item["label"])+" "),t.item.required?a("span",{staticClass:"red--text darken-3"},[t._v("*")]):t._e()])],2),a("v-date-picker",{attrs:{"no-title":""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)},n=[],o=a("6c58"),r=o["a"],s=a("2877"),l=a("6544"),c=a.n(l),d=a("2e4b"),u=a("e449"),p=a("2677"),_=Object(s["a"])(r,i,n,!1,null,null,null);_.options.__file="DatetimePicker.vue";e["a"]=_.exports;c()(_,{VDatePicker:d["a"],VMenu:u["a"],VTextField:p["a"]})}});
//# sourceMappingURL=app.js.map